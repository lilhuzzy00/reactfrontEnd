{"ast":null,"code":"import _defineProperty from\"C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Redirect}from\"react-router-dom\";import Layout from\"../core/Layout\";import{getProduct,getCategories,updateProduct}from\"./ApiAdmin\";import{isAuthenticated}from\"../auth\";import\"./product.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateProduct=function UpdateProduct(_ref){var match=_ref.match;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var _useState=useState({name:\"\",description:\"\",price:\"\",categories:[],category:\"\",shipping:\"\",quantity:\"\",photo:\"\",loading:false,error:\"\",createdProduct:\"\",redirectToProfile:false,formData:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,description=values.description,price=values.price,categories=values.categories,category=values.category,shipping=values.shipping,quantity=values.quantity,loading=values.loading,error=values.error,createdProduct=values.createdProduct,redirectToProfile=values.redirectToProfile,formData=values.formData;var init=function init(productId){getProduct(productId).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues(_objectSpread(_objectSpread({},values),{},{name:data.name,description:data.description,price:data.price,category:data.category._id,shipping:data.shipping,quantity:data.quantity,formData:new FormData()}));initCategories();}});};var initCategories=function initCategories(){getCategories().then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues({categories:data,formData:new FormData()});}});};useEffect(function(){init(match.params.productId);},[]);var handleChange=function handleChange(name){return function(event){var value=name==='photo'?event.target.files[0]:event.target.value;formData.set(name,value);setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{error:\"\",loading:true}));updateProduct(match.params.productId,user._id,token,formData).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues(_objectSpread(_objectSpread({},values),{},{name:\"\",description:\"\",price:\"\",quantity:\"\",photo:\"\",loading:false,error:false,redirectToProfile:true,createdProduct:data.name}));}});};var newPostForm=function newPostForm(){return/*#__PURE__*/_jsxs(\"form\",{className:\"mb-3\",onSubmit:clickSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add Photo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-secondary \",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleChange('photo'),name:\"photo\",accept:\"image/*\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleChange('name'),className:\"form-control\",value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{height:\"140px\"},className:\"form-control\",onChange:handleChange('description'),value:description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:handleChange('price'),className:\"form-control\",value:price})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleChange('category'),className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Category\"}),categories&&categories.map(function(c,i){return/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},i);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleChange('shipping'),className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Please Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"No\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Yes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-muted mt-4 mb-2\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:handleChange('quantity'),className:\"form-control\",value:quantity})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-4\",children:\"Update Product\"})]});};var showError=function showError(){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",style:{display:error?\"\":\"none\"},children:/*#__PURE__*/_jsx(\"h5\",{children:error})});};var showSuccess=function showSuccess(){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",style:{display:createdProduct?\"\":\"none\"},children:/*#__PURE__*/_jsx(\"h5\",{children:\"\".concat(createdProduct,\" is updated\")})});};var ShowLoading=function ShowLoading(){return loading&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"Loading...\"});};var redirectToReferer=function redirectToReferer(){if(redirectToProfile){if(!error){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}};return/*#__PURE__*/_jsx(Layout,{title:\"Signin page\",description:\"Signin to node js app\",className:\"container col-md-8 offset-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 mt-4 productCss\",children:[ShowLoading(),showSuccess(),showError(),newPostForm(),redirectToReferer()]})});};export default UpdateProduct;","map":{"version":3,"sources":["C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/src/Admin/UpdateProducts.js"],"names":["React","useState","useEffect","Redirect","Layout","getProduct","getCategories","updateProduct","isAuthenticated","UpdateProduct","match","user","token","name","description","price","categories","category","shipping","quantity","photo","loading","error","createdProduct","redirectToProfile","formData","values","setValues","init","productId","then","data","_id","FormData","initCategories","params","handleChange","event","value","target","files","set","clickSubmit","preventDefault","newPostForm","height","map","c","i","showError","display","showSuccess","ShowLoading","redirectToReferer"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { getProduct, getCategories, updateProduct } from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport \"./product.css\"\r\n\r\nconst UpdateProduct = ({match}) => {\r\n\r\n\tconst {user, token} =isAuthenticated()\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tshipping: \"\",\r\n\t\tquantity: \"\",\r\n\t\tphoto: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tredirectToProfile: false,\r\n\t\tformData: \"\"\r\n\t\t\r\n\t})\r\n\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tshipping,\r\n\t\tquantity,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tredirectToProfile,\r\n\t\tformData\r\n\r\n\t} = values\r\n\r\n\tconst init = (productId) => {\r\n\t\tgetProduct(productId)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\tdescription: data.description,\r\n\t\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\t\tcategory: data.category._id,\r\n\t\t\t\t\t\tshipping: data.shipping,\r\n\t\t\t\t\t\tquantity: data.quantity,\r\n\t\t\t\t\t\tformData: new FormData()\r\n\t\t\t\t\t})\r\n\t\t\t\t\tinitCategories()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst initCategories = () =>{\r\n\t\tgetCategories().then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({categories: data, formData: new FormData()})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(match.params.productId)\r\n\t}, [])\r\n\r\n\r\n\tconst handleChange = name => event => {\r\n\t\t\tconst value = name === 'photo' ? event.target.files[0] : event.target.value\r\n\t\t\tformData.set(name, value)\r\n\t\t\tsetValues({...values, [name]: value})\r\n\t}\r\n\r\n\r\n\tconst clickSubmit = (event) =>{\r\n\t\tevent.preventDefault()\r\n\t\tsetValues({...values, error: \"\", loading: true})\r\n\t\tupdateProduct(match.params.productId, user._id, token, formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tquantity: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\terror: false,\r\n\t\t\t\t\t\tredirectToProfile: true,\r\n\t\t\t\t\t\tcreatedProduct: data.name\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tconst newPostForm = () =>(\r\n\r\n\t\t<form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n\t\t\t<h4>Add Photo</h4>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"btn btn-secondary \">\r\n\t\t\t\t\t<input type=\"file\" onChange={handleChange('photo')} name=\"photo\" accept=\"image/*\" />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Description</label>\r\n\t\t\t\t<textarea style={{height: \"140px\"}} className=\"form-control\" onChange={handleChange('description')} value={description} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Price</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('price')} className=\"form-control\" value={price} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Category</label>\r\n\t\t\t\t<select onChange={handleChange('category')} className=\"form-control\">\r\n\t\t\t\t\t<option>Select Category</option>\r\n\t\t\t\t\t{categories && categories.map((c, i) => (\r\n\t\t\t\t\t\t<option key={i} value={c._id}>{c.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Shipping</label>\r\n\t\t\t\t<select onChange={handleChange('shipping')} className=\"form-control\">\r\n\t\t\t\t\t<option>Please Select</option>\r\n\t\t\t\t\t<option value=\"0\">No</option>\r\n\t\t\t\t\t<option value=\"1\">Yes</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Quantity</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('quantity')} className=\"form-control\" value={quantity} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" className=\"btn btn-primary mt-4\">Update Product</button>\r\n\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} ><h5>{error}</h5></div>\r\n\t)\r\n\r\n\tconst showSuccess = () =>(\r\n\t\t<div className=\"alert alert-info\" style={{display: createdProduct ? \"\" : \"none\" }} ><h5>{`${createdProduct} is updated`}</h5></div>\r\n\t)\r\n\r\n\r\n\tconst ShowLoading = () => (\r\n\t\tloading && (\r\n\t\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t\t)\r\n\t)\r\n\r\n\tconst redirectToReferer = () =>{\r\n\t\tif(redirectToProfile){\r\n\t\t\tif(!error){\r\n\t\t\t\treturn <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\treturn(\r\n\t\t\t<Layout \r\n\t\t\t\ttitle=\"Signin page\" \r\n\t\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\t\tclassName=\"container col-md-8 offset-md-2\"\r\n\t\t\t>\r\n\t\t\t<div className=\"mb-4 mt-4 productCss\">\r\n\t\t\t\t{ShowLoading()}\r\n\t\t\t\t{showSuccess()}\r\n\t\t\t\t{showError()}\r\n\t\t\t\t{newPostForm()}\t\r\n\t\t\t\t{redirectToReferer()}\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default UpdateProduct;"]},"metadata":{},"sourceType":"module"}