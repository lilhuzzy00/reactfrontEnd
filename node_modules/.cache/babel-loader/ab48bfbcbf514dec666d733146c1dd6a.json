{"ast":null,"code":"import{API}from\"../config\";export var signup=function signup(user){return fetch(\"\".concat(API,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};export var signin=function signin(user){return fetch(\"\".concat(API,\"/signin\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};export var authenticate=function authenticate(data,next){if(typeof window!==\"undefined\"){localStorage.setItem(\"jwt\",JSON.stringify(data));next();}};export var signout=function signout(next){if(typeof window!==\"undefined\"){localStorage.removeItem(\"jwt\");next();return fetch(\"\".concat(API,\"/signout\"),{method:\"GET\"}).then(function(response){console.log(\"signout\",response);}).catch(function(error){console.log(error);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window==\"undefined\"){return false;}if(localStorage.getItem(\"jwt\")){return JSON.parse(localStorage.getItem(\"jwt\"));}else{return false;}};","map":{"version":3,"sources":["C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/src/auth/index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","error","console","log","signin","authenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,OAAQA,GAAR,KAAkB,WAAlB,CAGA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,CAAI,CAC3B,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC7BI,MAAM,CAAE,MADqB,CAE7BC,OAAO,CAAE,CACRC,MAAM,CAAE,kBADA,CAER,eAAgB,kBAFR,CAFoB,CAM7BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANuB,CAAlB,CAAL,CAQNQ,IARM,CAQD,SAAAC,QAAQ,CAAG,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAVM,EAWNC,KAXM,CAWA,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAbM,CAAP,CAcA,CAfI,CAoBP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAf,IAAI,CAAI,CAC3B,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC7BI,MAAM,CAAE,MADqB,CAE7BC,OAAO,CAAE,CACRC,MAAM,CAAE,kBADA,CAER,eAAgB,kBAFR,CAFoB,CAM7BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANuB,CAAlB,CAAL,CAQNQ,IARM,CAQD,SAAAC,QAAQ,CAAG,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAVM,EAWNC,KAXM,CAWA,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAbM,CAAP,CAcA,CAfI,CAmBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAOC,IAAP,CAAgB,CAC3C,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChCC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4Bf,IAAI,CAACC,SAAL,CAAeU,IAAf,CAA5B,EACAC,IAAI,GACJ,CACD,CALM,CAOP,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAJ,IAAI,CAAI,CAC9B,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChCC,YAAY,CAACG,UAAb,CAAwB,KAAxB,EACAL,IAAI,GACJ,MAAOjB,CAAAA,KAAK,WAAIH,GAAJ,aAAmB,CAC9BI,MAAM,CAAE,KADsB,CAAnB,CAAL,CAGNM,IAHM,CAGD,SAAAC,QAAQ,CAAG,CAChBI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBL,QAAvB,EACA,CALM,EAMNE,KANM,CAMA,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CARM,CAAP,CASA,CACD,CAdM,CAiBP,MAAO,IAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAK,CACnC,GAAG,MAAOL,CAAAA,MAAP,EAAiB,WAApB,CAAgC,CAC/B,MAAO,MAAP,CACA,CACD,GAAGC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAH,CAA+B,CAC9B,MAAOnB,CAAAA,IAAI,CAACoB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAP,CACA,CAFD,IAEM,CACL,MAAO,MAAP,CACA,CACD,CATM","sourcesContent":["import {API} from \"../config\"\r\n\r\n\r\nexport const signup = user => {\r\n\t\t\treturn fetch(`${API}/signup`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\nexport const signin = user => {\r\n\t\t\treturn fetch(`${API}/signin`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\nexport const authenticate = (data, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(data))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\nexport const signout = next => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"jwt\")\r\n\t\tnext()\r\n\t\treturn fetch(`${API}/signout`, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t})\r\n\t\t.then(response =>{\r\n\t\t\tconsole.log(\"signout\", response)\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const isAuthenticated = () =>{\r\n\tif(typeof window == \"undefined\"){\r\n\t\treturn false\r\n\t}\r\n\tif(localStorage.getItem(\"jwt\")){\r\n\t\treturn JSON.parse(localStorage.getItem(\"jwt\"))\r\n\t} else{\r\n\t\treturn false\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}