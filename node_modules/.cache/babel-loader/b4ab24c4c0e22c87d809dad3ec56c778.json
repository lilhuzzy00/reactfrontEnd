{"ast":null,"code":"import _slicedToArray from\"C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{read,listRelated}from\"./ApiCore\";import Card from\"./Card\";import\"./Product.css\";import ShowPhoto from\"./ShowPhoto\";import Layout from\"./Layout\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),related=_useState4[0],setRelated=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var singleProduct=function singleProduct(productId){read(productId).then(function(data){if(data.error){setError(data.error);}else{setProduct(data);listRelated(data._id).then(function(data){if(data.error){setError(data.error);}else{setRelated(data);}});}});};useEffect(function(){var productId=props.match.params.productId;singleProduct(productId);},[props]);return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"singleProductPage\",style:{backgroundColor:\"white\",paddingTop:\"10px\",paddingBottom:\"110px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"imageRow\",children:/*#__PURE__*/_jsx(ShowPhoto,{item:product,url:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProductDescription\",style:{color:\"white\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:product.description}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Category: \",product.category&&product.category.name]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:/*#__PURE__*/_jsx(\"i\",{children:moment(product.createdAt).fromNow()})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"related1\",style:{paddingBottom:\"20px\",paddingTop:\"20px\",backgroundColor:\"white\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{textAlign:\"center\"},children:\"Related products\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"related\",style:{paddingTop:\"20px\"},children:related.map(function(p,i){return/*#__PURE__*/_jsx(Card,{product:p},i);})})]})]});};export default Products;","map":{"version":3,"sources":["C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/src/core/Product.js"],"names":["React","useState","useEffect","read","listRelated","Card","ShowPhoto","Layout","moment","Products","props","product","setProduct","related","setRelated","error","setError","singleProduct","productId","then","data","_id","match","params","backgroundColor","paddingTop","paddingBottom","color","name","description","category","createdAt","fromNow","textAlign","map","p","i"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {read, listRelated} from \"./ApiCore\";\r\nimport Card from \"./Card\";\r\nimport \"./Product.css\";\r\nimport ShowPhoto from \"./ShowPhoto\";\r\nimport Layout from \"./Layout\"\r\nimport moment from \"moment\"\r\n\r\n\r\nconst Products = (props) => {\r\n\r\n\tconst [product, setProduct] = useState({})\r\n\tconst [related, setRelated] = useState([])\r\n\tconst [error, setError] = useState(false)\r\n\r\n\tconst singleProduct = productId =>{\r\n\t\tread(productId)\r\n\t\t.then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetError(data.error)\r\n\t\t\t} else{\r\n\t\t\t\tsetProduct(data)\r\n\t\t\t\tlistRelated(data._id)\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetRelated(data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t} \r\n\r\n\tuseEffect(()=>{\r\n\t\tconst productId = props.match.params.productId\r\n\t\tsingleProduct(productId)\r\n\t}, [props])\r\n\r\n\r\n\treturn(\r\n\r\n\t\t<Layout>\r\n\t\t\t\t<div className=\"singleProductPage\" style={{backgroundColor: \"white\", paddingTop: \"10px\", paddingBottom: \"110px\"}} >\r\n\t\t\t\t\t<div className=\"imageRow\">\r\n\t\t\t\t\t\t<ShowPhoto item={product} url=\"product\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ProductDescription\" style={{color: \"white\"}}>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><h3>{product.name}</h3></p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}>{product.description}</p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><strong>Category: {product.category && product.category.name}</strong></p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><i>{moment(product.createdAt).fromNow()}</i></p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<div className=\"related1\"  style={{paddingBottom: \"20px\", paddingTop: \"20px\", backgroundColor: \"white\"}}>\r\n\t\t\t\t\t\t\t<h5 style={{textAlign: \"center\"}}>Related products</h5>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div className=\"related\" style={{ paddingTop: \"20px\"}}>\r\n\t\t\t\t\t\t\t\t{related.map((p, i)=>(\r\n\t\t\t\t\t\t\t\t\t<Card key={i} product={p} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default Products"]},"metadata":{},"sourceType":"module"}