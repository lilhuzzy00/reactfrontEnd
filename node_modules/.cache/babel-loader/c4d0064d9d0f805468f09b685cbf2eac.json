{"ast":null,"code":"import _objectSpread from\"C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var addItem=function addItem(item,next){var cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.push(_objectSpread(_objectSpread({},item),{},{count:1}));cart=Array.from(new Set(cart.map(function(p){return p._id;}))).map(function(id){return cart.find(function(p){return p._id===id;});});localStorage.setItem(\"cart\",JSON.stringify(cart));next();}};export var itemTotal=function itemTotal(){if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){return JSON.parse(localStorage.getItem(\"cart\")).length;}}return 0;};export var getCart=function getCart(){if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){return JSON.parse(localStorage.getItem(\"cart\"));}}return[];};export var updateItem=function updateItem(productId,count){var cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.map(function(product,i){if(product._id===productId){cart[i].count=count;}});localStorage.setItem(\"cart\",JSON.stringify(cart));}};export var removeItem=function removeItem(productId){var cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.map(function(product,i){if(product._id===productId){cart.splice(i,1);}});localStorage.setItem(\"cart\",JSON.stringify(cart));}return cart;};export var emptyCart=function emptyCart(next){if(typeof window!==\"undefined\"){localStorage.removeItem(\"cart\");next();}};","map":{"version":3,"sources":["C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/src/core/CartHelper.js"],"names":["addItem","item","next","cart","window","localStorage","getItem","JSON","parse","push","count","Array","from","Set","map","p","_id","id","find","setItem","stringify","itemTotal","length","getCart","updateItem","productId","product","i","removeItem","splice","emptyCart"],"mappings":"+JAAA,MAAO,IAAMA,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAOC,IAAP,CAAe,CACrC,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC/BH,IAAI,CAAGI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP,CACA,CACDH,IAAI,CAACM,IAAL,gCACIR,IADJ,MAECS,KAAK,CAAE,CAFR,IAKAP,IAAI,CAAGQ,KAAK,CAACC,IAAN,CAAW,GAAIC,CAAAA,GAAJ,CAAQV,IAAI,CAACW,GAAL,CAAS,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,GAAT,EAAT,CAAR,CAAX,EAA4CF,GAA5C,CAAgD,SAAAG,EAAE,CAAI,CAC5D,MAAOd,CAAAA,IAAI,CAACe,IAAL,CAAU,SAAAH,CAAC,QAAIA,CAAAA,CAAC,CAACC,GAAF,GAAUC,EAAd,EAAX,CAAP,CACA,CAFM,CAAP,CAGAZ,YAAY,CAACc,OAAb,CAAqB,MAArB,CAA6BZ,IAAI,CAACa,SAAL,CAAejB,IAAf,CAA7B,EACAD,IAAI,GACJ,CACD,CAjBM,CAoBP,MAAO,IAAMmB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAK,CAC7B,GAAG,MAAOjB,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC/B,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCgB,MAAhD,CACA,CACD,CACD,MAAO,EAAP,CACA,CAPM,CAYP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAK,CAC3B,GAAG,MAAOnB,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC/B,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP,CACA,CACD,CACD,MAAO,EAAP,CACA,CAPM,CASP,MAAO,IAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,SAAD,CAAYf,KAAZ,CAAqB,CAC9C,GAAIP,CAAAA,IAAI,CAAG,EAAX,CACA,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC/BH,IAAI,CAAGI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP,CACA,CAEDH,IAAI,CAACW,GAAL,CAAS,SAACY,OAAD,CAAUC,CAAV,CAAc,CACtB,GAAGD,OAAO,CAACV,GAAR,GAAgBS,SAAnB,CAA6B,CAC5BtB,IAAI,CAACwB,CAAD,CAAJ,CAAQjB,KAAR,CAAgBA,KAAhB,CACA,CACD,CAJD,EAMAL,YAAY,CAACc,OAAb,CAAqB,MAArB,CAA6BZ,IAAI,CAACa,SAAL,CAAejB,IAAf,CAA7B,EAEA,CACD,CAhBM,CAoBP,MAAO,IAAMyB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACH,SAAD,CAAc,CACvC,GAAItB,CAAAA,IAAI,CAAG,EAAX,CACA,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,CAAgC,CAC/BH,IAAI,CAAGI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP,CACA,CAEDH,IAAI,CAACW,GAAL,CAAS,SAACY,OAAD,CAAUC,CAAV,CAAc,CACtB,GAAGD,OAAO,CAACV,GAAR,GAAgBS,SAAnB,CAA6B,CAC5BtB,IAAI,CAAC0B,MAAL,CAAYF,CAAZ,CAAe,CAAf,EACA,CACD,CAJD,EAMAtB,YAAY,CAACc,OAAb,CAAqB,MAArB,CAA6BZ,IAAI,CAACa,SAAL,CAAejB,IAAf,CAA7B,EAEA,CAED,MAAOA,CAAAA,IAAP,CACA,CAlBM,CAqBP,MAAO,IAAM2B,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAC5B,IAAD,CAAS,CACjC,GAAG,MAAOE,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChCC,YAAY,CAACuB,UAAb,CAAwB,MAAxB,EACA1B,IAAI,GACJ,CACD,CALM","sourcesContent":["export const addItem = (item, next) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t\tcart.push({\r\n\t\t\t...item,\r\n\t\t\tcount: 1\r\n\t\t})\r\n\r\n\t\tcart = Array.from(new Set(cart.map((p) => p._id))).map(id => {\r\n\t\t\treturn cart.find(p => p._id === id)\r\n\t\t})\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\n\r\nexport const itemTotal = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\")).length\r\n\t\t}\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n\r\n\r\n\r\nexport const getCart = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t}\r\n\treturn []\r\n}\r\n\r\nexport const updateItem = (productId, count) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart[i].count = count\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const removeItem = (productId) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart.splice(i, 1)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n\r\n\treturn cart\r\n}\r\n\r\n\r\nexport const emptyCart = (next) =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"cart\");\r\n\t\tnext();\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}