{"ast":null,"code":"import{API}from\"../config\";export var update=function update(userId,token,user){return fetch(\"\".concat(API,\"/user/\").concat(userId),{method:\"PUT\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};export var read=function read(userId,token){return fetch(\"\".concat(API,\"/user/\").concat(userId),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};export var updateUser=function updateUser(user,next){if(typeof window!==\"undefined\"){if(localStorage.getItem(\"jwt\")){var auth=JSON.parse(localStorage.getItem(\"jwt\"));auth.user=user;localStorage.setItem(\"jwt\",JSON.stringify(auth));next();}}};export var getPurchaseHistory=function getPurchaseHistory(userId,token){return fetch(\"\".concat(API,\"/orders/by/user/\").concat(userId),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};","map":{"version":3,"sources":["C:/Users/GOD'SPOWER/Desktop/reactfrontEnd/src/user/ApiUser.js"],"names":["API","update","userId","token","user","fetch","method","headers","Accept","Authorization","body","JSON","stringify","then","response","json","catch","error","console","log","read","updateUser","next","window","localStorage","getItem","auth","parse","setItem","getPurchaseHistory"],"mappings":"AAAA,OAAQA,GAAR,KAAkB,WAAlB,CAGA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAASC,KAAT,CAAgBC,IAAhB,CAAyB,CAC9C,MAAOC,CAAAA,KAAK,WAAIL,GAAJ,kBAAgBE,MAAhB,EAA0B,CACrCI,MAAM,CAAE,KAD6B,CAErCC,OAAO,CAAE,CACRC,MAAM,CAAE,kBADA,CAER,eAAgB,kBAFR,CAGRC,aAAa,kBAAYN,KAAZ,CAHL,CAF4B,CAOrCO,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAP+B,CAA1B,CAAL,CASNS,IATM,CASD,SAAAC,QAAQ,CAAG,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACC,CAXK,EAYLC,KAZK,CAYC,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAdK,CAAP,CAeA,CAhBM,CAoBP,MAAO,IAAMG,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAClB,MAAD,CAASC,KAAT,CAAmB,CACtC,MAAOE,CAAAA,KAAK,WAAIL,GAAJ,kBAAgBE,MAAhB,EAA0B,CACrCI,MAAM,CAAE,KAD6B,CAErCC,OAAO,CAAE,CACRC,MAAM,CAAE,kBADA,CAER,eAAgB,kBAFR,CAGRC,aAAa,kBAAYN,KAAZ,CAHL,CAF4B,CAA1B,CAAL,CAQNU,IARM,CAQD,SAAAC,QAAQ,CAAG,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACC,CAVK,EAWLC,KAXK,CAWC,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAbK,CAAP,CAcA,CAfM,CAiBP,MAAO,IAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACjB,IAAD,CAAOkB,IAAP,CAAgB,CACzC,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAChC,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAH,CAA+B,CAC9B,GAAIC,CAAAA,IAAI,CAAGf,IAAI,CAACgB,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAX,CACAC,IAAI,CAACtB,IAAL,CAAYA,IAAZ,CACAoB,YAAY,CAACI,OAAb,CAAqB,KAArB,CAA4BjB,IAAI,CAACC,SAAL,CAAec,IAAf,CAA5B,EACAJ,IAAI,GACJ,CACD,CACD,CATM,CAYP,MAAO,IAAMO,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAC3B,MAAD,CAASC,KAAT,CAAmB,CACpD,MAAOE,CAAAA,KAAK,WAAIL,GAAJ,4BAA0BE,MAA1B,EAAoC,CAC/CI,MAAM,CAAE,KADuC,CAE/CC,OAAO,CAAE,CACRC,MAAM,CAAE,kBADA,CAER,eAAgB,kBAFR,CAGRC,aAAa,kBAAYN,KAAZ,CAHL,CAFsC,CAApC,CAAL,CAQNU,IARM,CAQD,SAAAC,QAAQ,CAAG,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACC,CAVK,EAWLC,KAXK,CAWC,SAAAC,KAAK,CAAG,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAbK,CAAP,CAcA,CAfM","sourcesContent":["import {API} from \"../config\"\r\n\r\n\r\nexport const update = (userId, token, user) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify(user)\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const read = (userId, token) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"jwt\")){\r\n\t\t\tlet auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n\t\t\tauth.user = user;\r\n\t\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n\treturn fetch(`${API}/orders/by/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n"]},"metadata":{},"sourceType":"module"}