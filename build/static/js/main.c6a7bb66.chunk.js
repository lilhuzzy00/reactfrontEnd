(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,c){},27:function(e,t,c){},30:function(e,t,c){},32:function(e,t,c){},48:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(24),s=c.n(a),o=c(4),i=c(6),l=c(8),d=c(2),j=c(3),u=(c(42),"https://houseofgoodiz.herokuapp.com"),b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},m=(c(27),c(0)),h=function(e,t){return e.location.pathname===t?{color:"black",background:"orange"}:{color:"#ffffff"}},p=Object(i.g)((function(e){var t=e.history;return Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark",children:[Object(m.jsx)(o.b,{className:"navbar-brand",to:"/",variant:"dark",style:{color:"white"},children:"HOUSE OF GOODIZ"}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{children:Object(m.jsx)("i",{className:"fas fa-bars",style:{color:"white"}})})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{style:h(t,"/shop"),className:"nav-link",to:"/shop",children:"Shop"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(o.b,{style:h(t,"/cart"),className:"nav-link",to:"/cart",children:[Object(m.jsx)("i",{className:"fas fa-shopping-cart"})," Cart",Object(m.jsx)("sup",{children:Object(m.jsx)("small",{children:"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0})})]})}),b()&&0===b().user.role&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{style:h(t,"/user/dashboard"),className:"nav-link",to:"/user/dashboard",children:"Dashboard"})}),b()&&1===b().user.role&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(o.b,{style:h(t,"/admin/dashboard"),className:"nav-link",to:"/admin/dashboard",children:[Object(m.jsx)("i",{className:"fas fa-user-lock"})," Admin"]})}),!b()&&Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{style:h(t,"/signup"),className:"nav-link",to:"/signup",children:"Signup"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{style:h(t,"/signin"),className:"nav-link",to:"/signin",children:"Signin"})})]}),b()&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("span",{style:{cursor:"pointer",color:"white"},className:"nav-link",onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(u,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){console.log(e)}))}((function(){t.push("/")}))},children:"Signout"})})]})})]})})),O=(c(14),c(48),function(){return Object(m.jsx)("div",{className:"footer",children:Object(m.jsx)("div",{className:"copyright",children:Object(m.jsx)("p",{style:{color:"white"},children:"Copyright \xa9 2021"})})})}),f=function(e){e.title,e.description;var t=e.className,c=e.children;return Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"Header",children:Object(m.jsxs)("div",{className:"Header2",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:["Shopping Made Easy With ",Object(m.jsx)("br",{}),"House Of Goodies"]}),Object(m.jsx)("button",{className:"btn btn-lg btn-primary",children:"Get Started"})]}),Object(m.jsx)("img",{src:"/images/image.png"})]})}),Object(m.jsx)("div",{className:t,children:c}),Object(m.jsx)(O,{})]})},x=(c(22),function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(j.a)(e,2),c=t[0],r=t[1],a=c.name,s=c.email,b=c.password,h=c.success,p=c.error,O=function(e){return function(t){r(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},x=function(e){var t;e.preventDefault(),r(Object(d.a)(Object(d.a)({},c),{},{error:!1})),(t={name:a,email:s,password:b},fetch("".concat(u,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?r(Object(d.a)(Object(d.a)({},c),{},{error:e.error,success:!1})):r(Object(d.a)(Object(d.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return Object(m.jsxs)(f,{title:"Signup page",description:"Signup to node js app",className:"container col-md-4 offset-md-4",children:[Object(m.jsxs)("helmet",{children:[Object(m.jsx)("title",{children:"Signup"}),Object(m.jsx)("meta",{name:"description",content:"Please Sign up to continue"}),Object(m.jsx)("meta",{name:"keywords",content:"Signup to get access to amazing deals"})]}),Object(m.jsx)("div",{className:"alert alert-info",style:{display:h?"":"none"},children:Object(m.jsxs)("h5",{children:["Signup successful. Please ",Object(m.jsx)(o.b,{to:"/signin",children:"Signin"})]})}),Object(m.jsx)("div",{className:"alert alert-danger",style:{display:p?"":"none"},children:p}),Object(m.jsxs)("form",{style:{margin:"20px",backgroundColor:"black",padding:"20px",borderRadius:"7px"},children:[Object(m.jsx)("div",{className:"text-center mb-3",style:{color:"white",fontSize:"20px"},children:Object(m.jsx)("strong",{children:"Signup Form"})}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Name"}),Object(m.jsx)("input",{onChange:O("name"),type:"text",className:"form-control",value:a})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Email"}),Object(m.jsx)("input",{onChange:O("email"),type:"email",className:"form-control",value:s})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Password"}),Object(m.jsx)("input",{onChange:O("password"),type:"password",className:"form-control",value:b})]}),Object(m.jsx)("button",{onClick:x,type:"submit",className:"btn btn-primary",children:"Submit"})]}),function(e){if(e)return Object(m.jsx)(i.a,{to:"/signin"})}(h)]})}),g=function(){var e=Object(n.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(j.a)(e,2),c=t[0],r=t[1],a=c.email,s=c.password,o=c.error,h=c.loading,p=c.redirectToReferrer,O=b().user,x=function(e){return function(t){r(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},g=function(e){e.preventDefault(),r(Object(d.a)(Object(d.a)({},c),{},{error:!1,loading:!0})),function(e){return fetch("".concat(u,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:a,password:s}).then((function(e){e.error?r(Object(d.a)(Object(d.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){r(Object(d.a)(Object(d.a)({},c),{},{redirectToReferrer:!0}))}))}))};return Object(m.jsxs)(f,{title:"Signin page",description:"Signin to node js app",className:"container col-md-4 offset-md-4",children:[Object(m.jsxs)("helmet",{children:[Object(m.jsx)("title",{children:"Signin"}),Object(m.jsx)("meta",{name:"description",content:"Please Sign in to continue"}),Object(m.jsx)("meta",{name:"keywords",content:"Signin to ecommerce site, buy products"})]}),function(){if(p)return O&&1===O.role?Object(m.jsx)(i.a,{to:"/admin/dashboard"}):Object(m.jsx)(i.a,{to:"/user/dashboard"})}(),h&&Object(m.jsx)("div",{className:"alert alert-info",children:Object(m.jsx)("strong",{children:"Loading..."})}),Object(m.jsx)("div",{className:"alert alert-danger",style:{display:o?"":"none"},children:o}),Object(m.jsxs)("form",{style:{margin:"20px",backgroundColor:"black",padding:"20px",borderRadius:"7px"},children:[Object(m.jsx)("div",{className:"text-center mb-3",style:{color:"white",fontSize:"20px"},children:Object(m.jsx)("strong",{children:"Signin Form"})}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Email"}),Object(m.jsx)("input",{onChange:x("email"),type:"email",className:"form-control",value:a})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Password"}),Object(m.jsx)("input",{onChange:x("password"),type:"password",className:"form-control",value:s})]}),Object(m.jsx)("button",{onClick:g,type:"submit",className:"btn btn-primary",children:"Submit"})]})]})},N=(c(36),function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={skip:e,limit:t,filters:c};return fetch("".concat(u,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}),v=function(e){return console.log("category",e),fetch("".concat(u,"/products-by-category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},y=function(e){var t=e.item,c=e.url;return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:"".concat(u,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"mb-3",style:{maxWidth:"100%",maxHeight:"100%"}})})},S=function(e){var t=e.product,c=(e.showDisplayButton,e.addToCartButton),r=void 0===c||c,a=e.cartUpdate,s=void 0!==a&&a,u=e.showRemoveProductButton,b=void 0!==u&&u,h=e.setRun,p=void 0===h?function(e){return e}:h,O=e.run,f=void 0===O?void 0:O,x=Object(n.useState)(!1),g=Object(j.a)(x,2),N=g[0],v=g[1],S=Object(n.useState)(t.count),w=Object(j.a)(S,2),C=w[0],k=w[1],T=function(e){return function(t){p(!f),k(t.target.value<1?1:t.target.value),t.target.value>=1&&function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(n,r){n._id===e&&(c[r].count=t)})),localStorage.setItem("cart",JSON.stringify(c)))}(e,t.target.value)}},P=function(){!function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(d.a)(Object(d.a)({},e),{},{count:1})),c=Array.from(new Set(c.map((function(e){return e._id})))).map((function(e){return c.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){v(!0)}))};return Object(m.jsx)("div",{className:"divTop2",children:Object(m.jsxs)("div",{className:"marginDiv",children:[Object(m.jsxs)("div",{className:"imageDiv",children:[function(e){if(e)return Object(m.jsx)(i.a,{to:"/cart"})}(N),Object(m.jsx)(o.b,{to:"/product/".concat(t._id),children:Object(m.jsx)(y,{item:t,url:"product"})})]}),Object(m.jsx)("div",{style:{paddingLeft:"2px"},children:t.name}),Object(m.jsx)("div",{style:{paddingLeft:"2px"},children:Object(m.jsxs)("strong",{children:["\u20a6",t.price]})}),function(e){return e&&Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"input-group mb-3",children:[Object(m.jsx)("div",{className:"input-group-prepend",children:Object(m.jsx)("span",{className:"input-group-text",children:"Qty"})}),Object(m.jsx)("span",{className:"inputNumber",children:Object(m.jsx)("input",{type:"number",className:"form-control",value:C,onChange:T(t._id)})})]})})}(s),function(e){return e&&Object(m.jsx)("button",{style:Object(l.a)({width:"140px",borderRadius:"4px",backgroundColor:"gray",color:"white",border:"none"},"backgroundColor","red"),onClick:function(){!function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,n){c._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(t._id),p(!f)},children:"Remove Product"})}(b),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"buttons",children:["         ",function(e){return e&&Object(m.jsx)("button",{style:{width:"110px",color:"#007185",border:"none",background:"none",margin:"4px",borderRadius:"4px"},onClick:P,children:"Shop Now >"})}(r)]})})]})})},w=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),o=s[0],i=s[1],l=Object(n.useState)([]),d=Object(j.a)(l,2),b=d[0],h=d[1],p=Object(n.useState)([]),O=Object(j.a)(p,2),x=O[0],g=O[1],N=Object(n.useState)(!1),y=Object(j.a)(N,2),w=(y[0],y[1]),C=function(){var e;(e="createdAt",fetch("".concat(u,"/products?sortBy=").concat(e,"&order=desc&limit=4"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?w(e.error):r(e)}))};return Object(n.useEffect)((function(){C(),v("611ecc9391e78c1d88b04ca4").then((function(e){e.error?w(e.error):i(e)})),v("611eccb091e78c1d88b04ca5").then((function(e){e.error?w(e.error):h(e)})),v("611ecc6991e78c1d88b04ca3").then((function(e){e.error?w(e.error):g(e)}))}),[]),Object(m.jsxs)(f,{title:"Homepage",description:"Node js Ecommerce App",children:["    ",Object(m.jsxs)("div",{className:"firstDiv",style:{backgroundColor:"white"},children:[Object(m.jsx)("div",{className:"h4Div",children:Object(m.jsx)("h4",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"white"},children:"Best Seller"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"divTop",children:c.map((function(e,t){return Object(m.jsx)(S,{product:e},t)}))})})]}),Object(m.jsxs)("div",{className:"firstDiv",style:{backgroundColor:"white"},children:[Object(m.jsx)("div",{className:"h4Div",children:Object(m.jsx)("h4",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"white"},children:"Ladies & Gent Shoes"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"divTop",children:o.map((function(e,t){return Object(m.jsx)(S,{product:e},t)}))})})]}),Object(m.jsxs)("div",{className:"firstDiv",style:{backgroundColor:"white"},children:[Object(m.jsx)("div",{className:"h4Div",children:Object(m.jsx)("h4",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"white"},children:"Shirts & Polo"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"divTop",children:b.map((function(e,t){return Object(m.jsx)(S,{product:e},t)}))})})]}),Object(m.jsxs)("div",{className:"firstDiv",style:{backgroundColor:"white"},children:[Object(m.jsx)("div",{className:"h4Div",children:Object(m.jsx)("h4",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"white"},children:"Trousers For Men & Women"})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"divTop",children:x.map((function(e,t){return Object(m.jsx)(S,{product:e},t)}))})})]})]})},C=c(19),k=["component"],T=function(e){var t=e.component,c=Object(C.a)(e,k);return Object(m.jsx)(i.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return b()?Object(m.jsx)(t,Object(d.a)({},e)):Object(m.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},P=c(13),A=c.n(P),D=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=b().user,s=a._id,i=a.name,l=a.email,d=a.role,h=b().token,p=function(e,t){(function(e,t){return fetch("".concat(u,"/orders/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,t).then((function(e){e.error?console.log(e.error):r(e)}))};Object(n.useEffect)((function(){p(s,h)}),[]);return Object(m.jsx)(f,{title:"Howdy ".concat(i),Description:"User Dashboard",className:"container-fluid",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsxs)("div",{className:"card mb-5 mt-5",children:[Object(m.jsx)("h4",{className:"card-header",children:"User Link"}),Object(m.jsxs)("ul",{className:"list-group",children:[Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/cart",className:"nav-link",children:"Cart"})}),Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/profile/".concat(s),className:"nav-link",children:"Update Profile"})})]})]})}),Object(m.jsxs)("div",{className:"col-md-9",children:[Object(m.jsxs)("div",{className:"card mb-5 mt-5 ",children:[Object(m.jsx)("h4",{className:"card-header",children:"User Information"}),Object(m.jsxs)("ul",{className:"list-group",children:[Object(m.jsx)("li",{className:"list-group-item",children:i}),Object(m.jsx)("li",{className:"list-group-item",children:l}),Object(m.jsx)("li",{className:"list-group-item",children:1===d?"Admin":"Registered User"})]})]}),function(e){return Object(m.jsxs)("div",{className:"card mb-5",children:[Object(m.jsx)("h3",{className:"card-header",children:"Purchase history"}),Object(m.jsx)("ul",{className:"list-group",children:Object(m.jsx)("li",{className:"list-group-item",children:e.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("hr",{}),e.products.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h6",{children:["Product name: ",e.name]}),Object(m.jsxs)("h6",{children:["Product price: $",e.price]}),Object(m.jsxs)("h6",{children:["Purchased date:"," ",A()(e.createdAt).fromNow()]})]},t)}))]})}))})})]})}(c)]})]})})},I=["component"],E=function(e){var t=e.component,c=Object(C.a)(e,I);return Object(m.jsx)(i.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return b()&&1===b().user.role?Object(m.jsx)(t,Object(d.a)({},e)):Object(m.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},_=function(){var e=b().user,t=e.name,c=e.email,n=e.role;return Object(m.jsx)(f,{title:"Howdy ".concat(t),Description:"Admin Dashboard",className:"container-fluid",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsxs)("div",{className:"card mb-5 mt-5",children:[Object(m.jsx)("h4",{className:"card-header",children:"Admin Link"}),Object(m.jsxs)("ul",{className:"list-group",children:[Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/create/category",className:"nav-link",children:"Create Category"})}),Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/create/product",className:"nav-link",children:"Create Product"})}),Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/admin/products",className:"nav-link",children:"Manage Products"})}),Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsx)(o.b,{to:"/admin/orders",className:"nav-link",children:"View Orders"})})]})]})}),Object(m.jsxs)("div",{className:"col-md-9",children:[Object(m.jsxs)("div",{className:"card mb-5 mt-5 ",children:[Object(m.jsx)("h4",{className:"card-header",children:"Admin Information"}),Object(m.jsxs)("ul",{className:"list-group",children:[Object(m.jsx)("li",{className:"list-group-item",children:t}),Object(m.jsx)("li",{className:"list-group-item",children:c}),Object(m.jsx)("li",{className:"list-group-item",children:1===n?"Admin":"Registered User"})]})]}),Object(m.jsxs)("div",{className:"card mb-5",children:[Object(m.jsx)("h4",{className:"card-header",children:"Admin History"}),Object(m.jsx)("ul",{className:"list-group",children:Object(m.jsx)("li",{className:"list-group-item",children:"History"})})]})]})]})})},B=function(){return fetch("".concat(u,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},z=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(j.a)(a,2),o=s[0],i=s[1],l=Object(n.useState)(!1),d=Object(j.a)(l,2),h=d[0],p=d[1],O=b(),x=O.user,g=O.token,N=function(e){i(""),r(e.target.value)},v=function(e){e.preventDefault(),i(""),p(!1),function(e,t,c){return fetch("".concat(u,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(x._id,g,{name:c}).then((function(e){e.error?i(!0):(i(""),p(!0))}))};return Object(m.jsx)(f,{title:"Category Page",description:"Create Category",className:"container col-md-4 offset-md-4",children:Object(m.jsxs)("div",{style:{background:"#f7f7f7",padding:"40px",borderRadius:"7px"},children:[function(){if(h)return Object(m.jsx)("div",{children:Object(m.jsx)("h6",{className:"alert alert-info",children:"Category was successfully created"})})}(),function(){if(o)return Object(m.jsx)("div",{children:Object(m.jsxs)("h6",{className:"alert alert-danger",children:[c," category should be unique"]})})}(),Object(m.jsx)("div",{style:{color:"#0275d8",marginTop:"30px",marginBottom:"20px"},children:Object(m.jsx)("h3",{children:"Add A New Category"})}),Object(m.jsxs)("form",{onSubmit:v,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted",children:"Name"}),Object(m.jsx)("input",{type:"text",onChange:N,className:"form-control",value:c,autoFocus:!0,required:!0})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-outline-primary",style:{marginTop:"18px"},children:"Create Category"})]})]})})},J=(c(30),function(){var e=b(),t=e.user,c=e.token,r=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),a=Object(j.a)(r,2),s=a[0],o=a[1],i=s.name,h=s.description,p=s.price,O=s.categories,x=(s.category,s.shipping,s.quantity),g=s.loading,N=s.error,v=s.createdProduct,y=(s.redirectToProfile,s.formData);Object(n.useEffect)((function(){B().then((function(e){e.error?o(Object(d.a)(Object(d.a)({},s),{},{error:e.error})):o(Object(d.a)(Object(d.a)({},s),{},{categories:e,formData:new FormData}))}))}),[]);var S=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;y.set(e,c),o(Object(d.a)(Object(d.a)({},s),{},Object(l.a)({},e,c)))}},w=function(e){e.preventDefault(),o(Object(d.a)(Object(d.a)({},s),{},{error:"",loading:!0})),function(e,t,c){return fetch("".concat(u,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t._id,c,y).then((function(e){e.error?o(Object(d.a)(Object(d.a)({},s),{},{error:e.error})):o(Object(d.a)(Object(d.a)({},s),{},{name:"",description:"",price:"",quantity:"",photo:"",loading:!1,createdProduct:e.name}))}))};return Object(m.jsx)(f,{title:"Signin page",description:"Signin to node js app",className:"container col-md-8 offset-md-2",children:Object(m.jsxs)("div",{className:"mb-4 productCss",children:[g&&Object(m.jsx)("div",{className:"alert alert-info",children:"Loading..."}),Object(m.jsx)("div",{className:"alert alert-info",style:{display:v?"":"none"},children:Object(m.jsx)("h5",{children:"".concat(v," is created")})}),Object(m.jsx)("div",{className:"alert alert-danger",style:{display:N?"":"none"},children:Object(m.jsx)("h5",{children:N})}),Object(m.jsxs)("form",{className:"mb-3",onSubmit:w,children:[Object(m.jsx)("h4",{children:"Add Photo"}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("label",{className:"btn btn-secondary ",children:Object(m.jsx)("input",{type:"file",onChange:S("photo"),name:"photo",accept:"image/*"})})}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Name"}),Object(m.jsx)("input",{type:"text",onChange:S("name"),className:"form-control",value:i})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Description"}),Object(m.jsx)("textarea",{style:{height:"140px"},className:"form-control",onChange:S("description"),value:h})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Price"}),Object(m.jsx)("input",{type:"number",onChange:S("price"),className:"form-control",value:p})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Category"}),Object(m.jsxs)("select",{onChange:S("category"),className:"form-control",children:[Object(m.jsx)("option",{children:"Select Category"}),O&&O.map((function(e,t){return Object(m.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Shipping"}),Object(m.jsxs)("select",{onChange:S("shipping"),className:"form-control",children:[Object(m.jsx)("option",{children:"Please Select"}),Object(m.jsx)("option",{value:"0",children:"No"}),Object(m.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Quantity"}),Object(m.jsx)("input",{type:"number",onChange:S("quantity"),className:"form-control",value:x})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Add Product"})]})]})})}),R=c(17),G=function(e){var t=e.categories,c=e.handleFilters,r=Object(n.useState)([]),a=Object(j.a)(r,2),s=a[0],o=a[1],i=function(e){return function(){var t=s.indexOf(e),n=Object(R.a)(s);-1===t?n.push(e):n.splice(t,1),o(n),c(n)}};return t.map((function(e,t){return Object(m.jsxs)("li",{className:"list-unstyled",children:[Object(m.jsx)("input",{type:"checkbox",className:"form-check-input",onChange:i(e._id),value:s.indexOf(-1===e._id)}),Object(m.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))},U=function(e){var t=e.prices,c=e.handleFilters,r=Object(n.useState)(0),a=Object(j.a)(r,2),s=(a[0],a[1]),o=function(e){c(e.target.value),s(e.target.value)};return t.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"radio",className:"mr-2 ml-4",onChange:o,value:e._id,name:e}),Object(m.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))},F=[{_id:0,name:"Any",array:[]},{_id:1,name:"N100 - N1000",array:[100,1e3]},{_id:2,name:"N1100 - N2000",array:[1100,2e3]},{_id:3,name:"N2100 - N3000",array:[2100,3e3]},{_id:4,name:"N3100 - N4000",array:[3100,4e3]},{_id:5,name:"More Than N4000",array:[4100,5e3]}],q=(c(63),function(){var e=Object(n.useState)({filters:{categories:[],price:[]}}),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),o=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(j.a)(l,2),h=b[0],p=b[1],O=Object(n.useState)(0),x=Object(j.a)(O,2),g=x[0],v=x[1],y=Object(n.useState)(6),w=Object(j.a)(y,2),C=w[0],k=(w[1],Object(n.useState)([])),T=Object(j.a)(k,2),P=T[0],A=T[1],D=Object(n.useState)(0),I=Object(j.a)(D,2),E=I[0],_=I[1],B=function(){fetch("".concat(u,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){h.data?p(h.data):i(e)}))},z=function(e){N(g,C,e).then((function(e){e.error?p(e.error):(A(e.data),_(e.size),v(0))}))},J=function(e){var t=g+C;N(t,C,c.filters).then((function(e){e.error?p(e.error):(A([].concat(Object(R.a)(P),Object(R.a)(e.data))),_(e.size),v(t))}))};Object(n.useEffect)((function(){B(),z(g,c.filters)}),[]);var q=function(e,t){var n=Object(d.a)({},c);if(n.filters[t]=e,"price"==t){var a=H(e);n.filters[t]=a}z(c.filters),r(n)},H=function(e){var t=F,c=[];for(var n in t)t[n]._id===parseInt(e)&&(c=t[n].array);return c};return Object(m.jsxs)(f,{title:"Homepage",description:"Node js Ecommerce App",children:[Object(m.jsxs)("helmet",{children:[Object(m.jsx)("title",{children:"Shop page"}),Object(m.jsx)("meta",{name:"description",content:"Make shopping here"}),Object(m.jsx)("meta",{name:"keywords",content:"Choose from our list of products and shop. Buy Shoes, Bags, Shirts, Underwears, Polo Jeans "})]}),Object(m.jsx)("div",{className:"ShopRow",style:{backgroundColor:"white"},children:Object(m.jsxs)("div",{className:"ShopRow1",children:[Object(m.jsxs)("div",{className:"filterDiv",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{style:{fontSize:"27px"},children:"Filter By Categories"}),Object(m.jsx)("ul",{children:Object(m.jsx)(G,{categories:o,handleFilters:function(e){return q(e,"category")}})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{style:{fontSize:"27px"},children:"Filter By Price"}),Object(m.jsx)("div",{style:{paddingLeft:"30px"},children:Object(m.jsx)(U,{prices:F,handleFilters:function(e){return q(e,"price")}})})]})]}),Object(m.jsxs)("div",{className:"cardRow",children:[P.map((function(e,t){return Object(m.jsx)("div",{className:"cardRow2",children:Object(m.jsx)(S,{product:e},t)})})),E>0&&E>=C&&Object(m.jsx)("button",{className:"btn btn-primary",onClick:J,children:"Load More"})]})]})})]})}),H=(c(64),function(e){var t=e.item,c=e.url;return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:"".concat(u,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"mb-3"})})}),L=function(e){var t=Object(n.useState)({}),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)([]),o=Object(j.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),h=(b[0],b[1]),p=function(e){(function(e){return fetch("".concat(u,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e).then((function(e){e.error?h(e.error):(a(e),function(e){return fetch("".concat(u,"/products/related/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e._id).then((function(e){e.error?h(e.error):l(e)})))}))};return Object(n.useEffect)((function(){var t=e.match.params.productId;p(t)}),[e]),Object(m.jsxs)(f,{children:[Object(m.jsxs)("div",{className:"singleProductPage",style:{backgroundColor:"white",paddingTop:"10px",paddingBottom:"110px"},children:[Object(m.jsx)("div",{className:"imageRow",children:Object(m.jsx)(H,{item:r,url:"product"})}),Object(m.jsxs)("div",{className:"ProductDescription",style:{color:"white"},children:[Object(m.jsx)("p",{style:{color:"black"},children:Object(m.jsx)("h3",{children:r.name})}),Object(m.jsx)("p",{style:{color:"black"},children:r.description}),Object(m.jsx)("p",{style:{color:"black"},children:Object(m.jsxs)("strong",{children:["Category: ",r.category&&r.category.name]})}),Object(m.jsx)("hr",{}),Object(m.jsx)("p",{style:{color:"black"},children:Object(m.jsx)("i",{children:A()(r.createdAt).fromNow()})})]})]}),Object(m.jsxs)("div",{className:"related1",style:{paddingBottom:"20px",paddingTop:"20px",backgroundColor:"white"},children:[Object(m.jsx)("h5",{style:{textAlign:"center"},children:"Related products"}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"related",style:{paddingTop:"20px"},children:i.map((function(e,t){return Object(m.jsx)(S,{product:e},t)}))})]})]})},M=c(37),W=c.n(M),Y=(c(32),function(e){var t=e.products,c=Object(n.useState)({success:!1,loading:!1,error:"",clientToken:null,instance:{},address:""}),r=Object(j.a)(c,2),a=r[0],s=r[1],i=b()&&b().user._id,l=b()&&b().token,h=function(e,t){(function(e,t){return fetch("".concat(u,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,t).then((function(e){e.error?s(Object(d.a)(Object(d.a)({},e),{},{error:e.error})):s({clientToken:e.clientToken})}))};Object(n.useEffect)((function(){h(i,l)}),[]);var p,O,f,x=function(e){s(Object(d.a)(Object(d.a)({},a),{},{address:e.target.value}))},g=function(){return t.reduce((function(e,t){return e+t.count*t.price}),0)},N=a.address,v=function(){s({loading:!0});a.instance.requestPaymentMethod().then((function(e){var c={paymentMethodNonce:e.nonce,amount:g()};(function(e,t,c){return fetch("".concat(u,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(i,l,c).then((function(e){console.log(e);var c={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount,address:N};(function(e,t,c){return fetch("".concat(u,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(i,l,c).then((function(e){var t;t=function(){console.log("Payment success and empty cart"),s({loading:!1,success:!0})},"undefined"!==typeof window&&(localStorage.removeItem("cart"),t())}))})).catch((function(e){s({loading:!1})}))})).catch((function(e){console.log("dropIn error",e),s(Object(d.a)(Object(d.a)({},a),{},{error:e.message}))}))},y=function(){return Object(m.jsx)("div",{className:"firstshowDropIn",onBlur:function(){return s(Object(d.a)(Object(d.a)({},a),{},{error:""}))},children:null!==a.clientToken&&t.length>0?Object(m.jsxs)("div",{className:"showDropIn",children:[Object(m.jsxs)("div",{className:"form-group mb-3",children:[Object(m.jsx)("label",{className:"text-muted",children:"Delivery Address:"}),Object(m.jsx)("textarea",{className:"form-control textArea",onChange:x,value:a.address,placeholder:"Please Enter Your Address",style:{width:"700px"}})]}),Object(m.jsx)(W.a,{options:{authorization:a.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return a.instance=e}}),Object(m.jsx)("button",{onClick:v,style:{width:"150px",marginBottom:"10px"},className:"btn btn-success btn-block",children:"Pay"})]}):null})};return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsxs)("h3",{style:{color:"black"},children:["Total: \u20a6",g()]})}),(f=a.loading,f&&Object(m.jsx)("div",{className:"alert alert-info",children:"Loading..."})),(O=a.success,Object(m.jsx)("div",{className:"alert alert-info",style:{display:O?"":"none"},children:"Thank you! Your Payment was successful"})),(p=a.error,Object(m.jsx)("div",{className:"alert alert-danger",style:{display:p?"":"none"},children:p})),b()?Object(m.jsx)("div",{children:y()}):Object(m.jsx)(o.b,{to:"/signin",children:"Signin"})]})}),Q=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(j.a)(a,2),i=s[0],l=s[1];Object(n.useEffect)((function(){r("undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])}),[i]);return Object(m.jsxs)(f,{children:[Object(m.jsxs)("helmet",{children:[Object(m.jsx)("title",{children:"Checkout"}),Object(m.jsx)("meta",{name:"description",content:"Please Checkout Here"}),Object(m.jsx)("meta",{name:"keywords",content:"Make payments for products here"})]}),Object(m.jsx)("div",{className:"cart",children:Object(m.jsxs)("div",{className:"cartRow",children:[Object(m.jsx)("div",{style:{marginTop:"20px"},children:c.length>0?function(e){return Object(m.jsx)("div",{children:e.map((function(e,t){return Object(m.jsx)(S,{product:e,addToCartButton:!1,cartUpdate:!0,showDisplayButton:!1,showRemoveProductButton:!0,setRun:l,run:i},t)}))})}(c):Object(m.jsx)("div",{className:"alert alert-info",children:Object(m.jsxs)("h5",{children:[" No item was found ",Object(m.jsx)(o.b,{to:"/shop",children:"Continue Shopping"})," "]})})}),Object(m.jsx)("div",{className:"cartRow2",style:{marginTop:"10px"},children:Object(m.jsx)(Y,{products:c})})]})})]})},V=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=b(),s=a.user,i=a.token,l=function(){fetch("".concat(u,"/products?limit=undefined"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?console.log(e.error):r(e)}))},d=function(e){(function(e,t,c){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,s._id,i).then((function(e){e.error?console.log(e.error):l()}))};return Object(n.useEffect)((function(){l()}),[]),Object(m.jsx)(f,{title:"Homepage",description:"Node js Ecommerce App",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-12",children:Object(m.jsxs)("ul",{className:"list-group",children:[Object(m.jsxs)("h2",{className:"text-center",style:{color:"white"},children:["You have a total ",c.length," items "]}),c.map((function(e,t){return Object(m.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(m.jsx)("strong",{children:e.name}),Object(m.jsx)(o.b,{to:"/admin/product/update/".concat(e._id),children:Object(m.jsx)("span",{className:"badge badge-warning badge-pill",style:{color:"black"},children:"Update"})}),Object(m.jsx)("span",{onClick:function(){return d(e._id)},className:"badge badge-danger badge-pill",style:{color:"red"},children:"Delete"})]},t)}))]})})})})},Z=function(e){var t=e.match,c=b(),r=c.user,a=c.token,s=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),o=Object(j.a)(s,2),h=o[0],p=o[1],O=h.name,x=h.description,g=h.price,N=h.categories,v=(h.category,h.shipping,h.quantity),y=h.loading,S=h.error,w=h.createdProduct,C=h.redirectToProfile,k=h.formData,T=function(e){(function(e){return fetch("".concat(u,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e).then((function(e){e.error?p(Object(d.a)(Object(d.a)({},h),{},{error:e.error})):(p(Object(d.a)(Object(d.a)({},h),{},{name:e.name,description:e.description,price:e.price,category:e.category._id,shipping:e.shipping,quantity:e.quantity,formData:new FormData})),P())}))},P=function(){B().then((function(e){e.error?p(Object(d.a)(Object(d.a)({},h),{},{error:e.error})):p({categories:e,formData:new FormData})}))};Object(n.useEffect)((function(){T(t.params.productId)}),[]);var A=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;k.set(e,c),p(Object(d.a)(Object(d.a)({},h),{},Object(l.a)({},e,c)))}},D=function(e){e.preventDefault(),p(Object(d.a)(Object(d.a)({},h),{},{error:"",loading:!0})),function(e,t,c,n){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:n}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t.params.productId,r._id,a,k).then((function(e){e.error?p(Object(d.a)(Object(d.a)({},h),{},{error:e.error})):p(Object(d.a)(Object(d.a)({},h),{},{name:"",description:"",price:"",quantity:"",photo:"",loading:!1,error:!1,redirectToProfile:!0,createdProduct:e.name}))}))};return Object(m.jsx)(f,{title:"Signin page",description:"Signin to node js app",className:"container col-md-8 offset-md-2",children:Object(m.jsxs)("div",{className:"mb-4 mt-4 productCss",children:[y&&Object(m.jsx)("div",{className:"alert alert-info",children:"Loading..."}),Object(m.jsx)("div",{className:"alert alert-info",style:{display:w?"":"none"},children:Object(m.jsx)("h5",{children:"".concat(w," is updated")})}),Object(m.jsx)("div",{className:"alert alert-danger",style:{display:S?"":"none"},children:Object(m.jsx)("h5",{children:S})}),Object(m.jsxs)("form",{className:"mb-3",onSubmit:D,children:[Object(m.jsx)("h4",{children:"Add Photo"}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("label",{className:"btn btn-secondary ",children:Object(m.jsx)("input",{type:"file",onChange:A("photo"),name:"photo",accept:"image/*"})})}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Name"}),Object(m.jsx)("input",{type:"text",onChange:A("name"),className:"form-control",value:O})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Description"}),Object(m.jsx)("textarea",{style:{height:"140px"},className:"form-control",onChange:A("description"),value:x})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Price"}),Object(m.jsx)("input",{type:"number",onChange:A("price"),className:"form-control",value:g})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Category"}),Object(m.jsxs)("select",{onChange:A("category"),className:"form-control",children:[Object(m.jsx)("option",{children:"Select Category"}),N&&N.map((function(e,t){return Object(m.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Shipping"}),Object(m.jsxs)("select",{onChange:A("shipping"),className:"form-control",children:[Object(m.jsx)("option",{children:"Please Select"}),Object(m.jsx)("option",{value:"0",children:"No"}),Object(m.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"text-muted mt-4 mb-2",children:"Quantity"}),Object(m.jsx)("input",{type:"number",onChange:A("quantity"),className:"form-control",value:v})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Update Product"})]}),function(){if(C&&!S)return Object(m.jsx)(i.a,{to:"/"})}()]})})},$=function(e){var t=e.match,c=Object(n.useState)({name:"",email:"",password:"",error:!1,success:!1}),r=Object(j.a)(c,2),a=r[0],s=r[1],o=b().token,h=a.name,p=a.email,O=a.password,x=(a.error,a.success),g=function(e){(function(e,t){return fetch("".concat(u,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,o).then((function(e){e.error?s(Object(d.a)(Object(d.a)({},a),{},{error:!0})):s(Object(d.a)(Object(d.a)({},a),{},{name:e.name,email:e.email}))}))};Object(n.useEffect)((function(){g(t.params.userId)}),[]);var N=function(e){return function(t){s(Object(d.a)(Object(d.a)({},a),{},Object(l.a)({error:!1},e,t.target.value)))}},v=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(u,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t.params.userId,o,{name:h,email:p,password:O}).then((function(e){e.error?console.log(e.error):function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var c=JSON.parse(localStorage.getItem("jwt"));c.user=e,localStorage.setItem("jwt",JSON.stringify(c)),t()}}(e,(function(){s(Object(d.a)(Object(d.a)({},a),{},{name:e.name,email:e.email,success:!0}))}))}))};return Object(m.jsx)(f,{children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-4 offset-4",children:[function(e,t,c){return Object(m.jsxs)("form",{style:{marginTop:"20px",marginBottom:"20px"},children:[Object(m.jsxs)("div",{className:"form-group mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Name"}),Object(m.jsx)("input",{onChange:N("name"),type:"text",className:"form-control",value:e})]}),Object(m.jsxs)("div",{className:"form-group mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Email"}),Object(m.jsx)("input",{onChange:N("email"),type:"email",className:"form-control",value:t})]}),Object(m.jsxs)("div",{className:"form-group mb-3",children:[Object(m.jsx)("label",{className:"form-label",style:{color:"white"},children:"Password"}),Object(m.jsx)("input",{onChange:N("password"),type:"password",className:"form-control",value:c})]}),Object(m.jsx)("button",{onClick:v,type:"submit",className:"btn btn-primary",children:"Submit"})]})}(h,p,O),function(e){if(e)return Object(m.jsx)(i.a,{to:"/cart"})}(x)]})})})},K=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),o=s[0],i=s[1],l=b(),d=l.user,h=l.token,p=function(){(function(e,t){return fetch("".concat(u,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(d._id,h).then((function(e){e.error?console.log(e.error):r(e)}))};Object(n.useEffect)((function(){p()}),[]);var O=function(){(function(e,t){return fetch("".concat(u,"/order/status/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(d._id,h).then((function(e){e.error?console.log(e.error):i(e)}))};Object(n.useEffect)((function(){p(),O()}),[]);var x=function(e,t){return Object(m.jsxs)("div",{className:"input-group mb-2 mr-sm-2",children:[Object(m.jsx)("div",{className:"input-group-prepend",children:Object(m.jsx)("div",{className:"input-group-text",children:e})}),Object(m.jsx)("input",{type:"text",value:t,className:"form-control",readOnly:!0})]})},g=function(e,t){(function(e,t,c,n){return fetch("".concat(u,"/order/").concat(c,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:n,orderId:c})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(d._id,h,t,e.target.value).then((function(e){e.error?console.log("status update failed"):p()}))},N=function(e){return Object(m.jsxs)("div",{className:"form-control",children:[Object(m.jsxs)("h3",{className:"mark mb-4",children:["Status: ",e.status]}),Object(m.jsxs)("select",{className:"form-control",onChange:function(t){return g(t,e._id)},children:[Object(m.jsx)("option",{children:"Status Update"}),o.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))]})]})};return Object(m.jsx)(f,{children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 offset-md-2",children:[c.length>0?Object(m.jsxs)("h1",{className:"text-danger display-2",children:["Total order is: ",c.length]}):Object(m.jsx)("h1",{className:"text-danger",children:"No orders found"}),c.map((function(e,t){return Object(m.jsxs)("div",{className:"mt-5",style:{borderBottom:"1px solid white"},children:[Object(m.jsx)("h2",{className:"mb-5",style:{color:"white"},children:Object(m.jsxs)("span",{className:"bg-primary",children:["Order ID: ",e._id]})}),Object(m.jsxs)("ul",{className:"list-group mb-2",children:[Object(m.jsx)("li",{className:"list-group-item",children:N(e)}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Transaction:"})," ",e.transaction_id]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Amount: "})," \u20a6",e.amount]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Ordered By:"})," ",e.user.name]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Ordered Date:"})," ",A()(e.createdAt).fromNow()]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Delivery Address:"})," ",e.address]})]}),Object(m.jsxs)("h2",{style:{color:"white"},children:["Total number of products Order are: ",e.products.length]}),e.products.map((function(e,t){return Object(m.jsxs)("div",{className:"mb-4",style:{padding:"20px",border:"2px solid white"},children:[x("Product name",e.name),x("Product name",e.price),x("Product name",e.count),x("Product name",e._id)]},t)}))]},t)}))]})})})},X=function(){return Object(m.jsx)(o.a,{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"/",exact:!0,component:w}),Object(m.jsx)(i.b,{path:"/shop",exact:!0,component:q}),Object(m.jsx)(i.b,{path:"/cart",exact:!0,component:Q}),Object(m.jsx)(i.b,{path:"/signup",exact:!0,component:x}),Object(m.jsx)(i.b,{path:"/signin",exact:!0,component:g}),Object(m.jsx)(T,{path:"/user/dashboard",exact:!0,component:D}),Object(m.jsx)(E,{path:"/admin/dashboard",exact:!0,component:_}),Object(m.jsx)(E,{path:"/create/category",exact:!0,component:z}),Object(m.jsx)(E,{path:"/create/product",exact:!0,component:J}),Object(m.jsx)(i.b,{path:"/product/:productId",exact:!0,component:L}),Object(m.jsx)(E,{path:"/admin/products",exact:!0,component:V}),Object(m.jsx)(E,{path:"/admin/product/update/:productId",exact:!0,component:Z}),Object(m.jsx)(T,{path:"/profile/:userId",exact:!0,component:$}),Object(m.jsx)(E,{path:"/admin/orders",exact:!0,component:K})]})})};c(78);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(X,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.c6a7bb66.chunk.js.map