{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/CartHelper.js","core/Footer.js","core/Layout.js","user/Signup.js","user/Signin.js","core/ApiCore.js","core/ShowImage.js","core/Card.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/ApiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","Admin/ApiAdmin.js","Admin/AddCategory.js","Admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/FixedPrices.js","core/Shop.js","core/ShowPhoto.js","core/Product.js","core/Checkout.js","core/Cart.js","Admin/ManageProducts.js","Admin/UpdateProducts.js","user/Profile.js","Admin/Orders.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","background","withRouter","className","to","variant","style","type","id","length","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","error","signout","push","Footer","Layout","title","description","children","src","Signup","useState","name","email","password","success","values","setValues","handleChange","Name","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","content","display","margin","backgroundColor","padding","borderRadius","fontSize","onChange","redirectUser","Signin","loading","redirectToReferrer","signin","setItem","authenticate","getFilteredProducts","skip","limit","filters","productByCategory","categoryId","ShowImage","item","url","_id","alt","maxWidth","maxHeight","Card","product","showDisplayButton","addToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","productId","cart","map","i","updateItem","addToCart","Array","from","Set","p","find","addItem","shoudRedirect","paddingLeft","price","showCartUpdate","width","border","splice","showRemoveButton","cartButton","Home","productsByArrival","setProductsByArrival","gentShoes","setGentShoes","shirts","setShirts","trouser","setTrousers","setError","loadProductsByArrival","sortBy","useEffect","fontWeight","PrivateRoute","Component","component","rest","render","props","state","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","Description","h","products","moment","createdAt","fromNow","purchaseHistory","AdminRoute","AdminDashboard","getCategories","AddCategory","setName","setSuccess","e","category","createCategory","showSuccess","showErrors","marginTop","marginBottom","onSubmit","autoFocus","required","AddProduct","categories","shipping","quantity","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","height","c","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilter","setCategories","setSkip","filteredResults","setFilteredResults","size","setSize","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","key","parseInt","ShowPhoto","Products","setProduct","related","setRelated","singleProduct","read","listRelated","match","params","paddingTop","paddingBottom","textAlign","Checkout","clientToken","instance","address","setData","getToken","braintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","placeholder","options","authorization","paypal","flow","onInstance","Cart","items","getAllItemsInCart","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","redirectToReferer","Profile","update","auth","updateUser","profileUpdate","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handlesStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","pIndex","Routes","exact","Product","UpdateProducts","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6a7bb66.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL","import {API} from \"../config\"\r\n\r\n\r\nexport const signup = user => {\r\n\t\t\treturn fetch(`${API}/signup`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\nexport const signin = user => {\r\n\t\t\treturn fetch(`${API}/signin`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\nexport const authenticate = (data, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(data))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\nexport const signout = next => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"jwt\")\r\n\t\tnext()\r\n\t\treturn fetch(`${API}/signout`, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t})\r\n\t\t.then(response =>{\r\n\t\t\tconsole.log(\"signout\", response)\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const isAuthenticated = () =>{\r\n\tif(typeof window == \"undefined\"){\r\n\t\treturn false\r\n\t}\r\n\tif(localStorage.getItem(\"jwt\")){\r\n\t\treturn JSON.parse(localStorage.getItem(\"jwt\"))\r\n\t} else{\r\n\t\treturn false\r\n\t}\r\n}\r\n","import React,{ Fragment } from \"react\"\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport { signout, isAuthenticated } from \"../auth\"\r\nimport {itemTotal} from \"./CartHelper\"\r\nimport \"./menu.css\"\r\n\r\n\r\nconst isActive = (history, path) =>{\r\n\tif(history.location.pathname === path){\r\n\t\treturn {color: \"black\", background: \"orange\"}\r\n\t} else{\r\n\t\treturn {color: \"#ffffff\"}\r\n\t}\r\n}\r\n\r\nconst Menu =({history})=>{\r\n\r\n\r\n\treturn(\r\n\t\t\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-dark\" >\r\n\t\t\t\t  <Link className=\"navbar-brand\" to=\"/\" variant=\"dark\" style={{color: \"white\"}}>HOUSE OF GOODIZ</Link>\r\n\t\t\t\t  <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t    <span ><i className=\"fas fa-bars\" style={{color: \"white\"}}></i></span>\r\n\t\t\t\t  </button>\r\n\t\t\t\t  <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n\t\t\t\t    <ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t      \r\n\t\t\t\t      <li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<Link style={ isActive(history, \"/shop\") }className=\"nav-link\" to=\"/shop\">Shop</Link>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<Link style={ isActive(history, \"/cart\") }\r\n\t\t\t\t\t\t\t\tclassName=\"nav-link\" \r\n\t\t\t\t\t\t\t\tto=\"/cart\"><i className=\"fas fa-shopping-cart\"></i> Cart\r\n\t\t\t\t\t\t\t\t<sup>\r\n\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t{itemTotal()}<\r\n\t\t\t\t\t\t\t\t/small>\r\n\t\t\t\t\t\t\t\t</sup>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t      {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/user/dashboard\")} className=\"nav-link\" to=\"/user/dashboard\">Dashboard</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/admin/dashboard\")} className=\"nav-link\" to=\"/admin/dashboard\"><i className=\"fas fa-user-lock\" ></i> Admin</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t      {!isAuthenticated() && (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/signup\")} className=\"nav-link\" to=\"/signup\">Signup</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<Link style={ isActive(history, \"/signin\")} className=\"nav-link\" to=\"/signin\">Signin</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t       {isAuthenticated() && (\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<span style={{ cursor: \"pointer\", color: \"white\"}} className=\"nav-link\" onClick={() => signout(() =>{\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/\")\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSignout\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t    </ul>\r\n\t\t\t\t  </div>\r\n\t\t\t</nav>\r\n\t)\r\n}\r\n\r\n\r\nexport default withRouter(Menu)\r\n","export const addItem = (item, next) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t\tcart.push({\r\n\t\t\t...item,\r\n\t\t\tcount: 1\r\n\t\t})\r\n\r\n\t\tcart = Array.from(new Set(cart.map((p) => p._id))).map(id => {\r\n\t\t\treturn cart.find(p => p._id === id)\r\n\t\t})\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\t\tnext()\r\n\t}\r\n}\r\n\r\n\r\nexport const itemTotal = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\")).length\r\n\t\t}\r\n\t}\r\n\treturn 0\r\n}\r\n\r\n\r\n\r\n\r\nexport const getCart = () =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\treturn JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\t}\r\n\treturn []\r\n}\r\n\r\nexport const updateItem = (productId, count) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart[i].count = count\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const removeItem = (productId) =>{\r\n\tlet cart = []\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"cart\")){\r\n\t\t\tcart = JSON.parse(localStorage.getItem(\"cart\"))\r\n\t\t}\r\n\r\n\t\tcart.map((product, i)=>{\r\n\t\t\tif(product._id === productId){\r\n\t\t\t\tcart.splice(i, 1)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart))\r\n\r\n\t}\r\n\r\n\treturn cart\r\n}\r\n\r\n\r\nexport const emptyCart = (next) =>{\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tlocalStorage.removeItem(\"cart\");\r\n\t\tnext();\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport \"./Card.css\"\r\nimport \"./footer.css\"\r\n\r\n\r\nconst Footer = () => {\r\n\treturn(\r\n\t\t<div className=\"footer\">\r\n\t\t\t<div className=\"copyright\">\r\n\t\t\t\t<p style={{color: \"white\"}}>Copyright &copy; 2021</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Footer;","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Typed from 'react-typed';\r\nimport Menu from \"./Menu\" \r\nimport Footer from \"./Footer\" \r\nimport \"./menu.css\"\r\nimport \"./Card.css\"\r\n\r\nconst Layout = ({\r\n\ttitle=\"title\", \r\n\tdescription=\"description\", \r\n\tclassName, \r\n\tchildren\r\n}) => (\r\n\t\t<div>\r\n\t\t\t<Menu />\r\n\t\t\t\r\n\t\t\t<div className=\"Header\">\r\n\t\t\t\t<div className=\"Header2\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h1>Shopping Made Easy With <br/>House Of Goodies</h1>\r\n\t\t\t\t\t\t<button className=\"btn btn-lg btn-primary\">Get Started</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img src=\"/images/image.png\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={className}>{children}</div>\r\n\t\t\t<Footer />\r\n\r\n\t\t</div>\r\n);\r\n\r\nexport default Layout","import React, {useState} from \"react\"\r\nimport { Link, Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { signup } from \"../auth\"\r\nimport { helmet } from \"react-helmet\"\r\n\r\n\r\nconst Signup = () =>{\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\t\tname: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terror: \"\",\r\n\t\t\tsuccess: false\r\n\t})\r\n\r\n\t\t const { name, email, password, success, error } = values;\r\n\r\n\r\n\t\tconst handleChange = Name => event => {\r\n\t\t\tsetValues({...values, error: false, [Name]: event.target.value})\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\t const clickSubmit = event =>{\r\n\t\t \tevent.preventDefault()\r\n\t\t \tsetValues({...values, error: false})\r\n\t\t\tsignup({name, email, password})\r\n\t\t\t\t.then(data =>{\r\n\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\tsetValues({...values, error: data.error, success: false})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\tname:\"\",\r\n\t\t\t\t\t\temail:\"\",\r\n\t\t\t\t\t\tpassword:\"\",\r\n\t\t\t\t\t\terror: \"\",\r\n\t\t\t\t\t\tsuccess: true \r\n\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t \t}\r\n\r\n\t \t\t\r\n\r\n\tconst signUpForm = () =>(\r\n\r\n\t\t<form style={{margin: \"20px\", backgroundColor:\"black\", padding: \"20px\", borderRadius: \"7px\"}}>\r\n\t\t\t<div className=\"text-center mb-3\" style={{color: \"white\", fontSize: \"20px\"}}><strong>Signup Form</strong></div>\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Name</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\r\n\t);\r\n\r\n\tconst showSuccess = () =>(\r\n\t \t<div className=\"alert alert-info\" style={{display: success ? \"\" : \"none\" }}><h5>Signup successful. Please <Link to=\"/signin\">Signin</Link></h5></div>\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t \t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} >{ error }</div>\r\n\t)\r\n\r\n\tconst redirectUser = (success) => {\r\n\t\tif(success){\r\n\t\t\treturn <Redirect to=\"/signin\" />\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn(\r\n\t\t<Layout \r\n\t\t\ttitle=\"Signup page\" \r\n\t\t\tdescription=\"Signup to node js app\"\r\n\t\t\tclassName=\"container col-md-4 offset-md-4\"\r\n\t\t>\r\n\t\t\t<helmet>\r\n\t\t\t\t<title>Signup</title>\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\tcontent=\"Please Sign up to continue\"  \r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"keywords\"\r\n\t\t\t\t\tcontent=\"Signup to get access to amazing deals\"  \r\n\t\t\t\t/>\r\n\t\t\t</helmet>\r\n\t\t\t{showSuccess()}\r\n\t\t\t{showError()}\r\n\t\t\t{signUpForm()}\r\n\t\t\t{redirectUser(success)}\r\n\t\t</Layout>\r\n\t)\r\n\r\n}\r\n\r\n\r\nexport default Signup","import React, {useState} from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\"\r\nimport { helmet } from \"react-helmet\"\r\n\r\nconst Signin = () =>{\r\n\t\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terror: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tredirectToReferrer: false\r\n\t})\r\n\r\n\t\t const { email, password, error, loading, redirectToReferrer } = values;\r\n\t\t const {user} = isAuthenticated();\r\n\r\n\r\n\t\tconst handleChange = Name => event => {\r\n\t\t\tsetValues({...values, error: false, [Name]: event.target.value})\r\n\t\t}\r\n\t\t\r\n\r\n\t\tconst clickSubmit = event =>{\r\n\t\t \tevent.preventDefault()\r\n\t\t \tsetValues({...values, error: false, loading: true})\r\n\t\t\tsignin({ email, password })\r\n\t\t\t\t.then(data =>{\r\n\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\tsetValues({...values, error: data.error, loading: false })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tauthenticate(data, ()=>{\r\n\t\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\t\t\tredirectToReferrer: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t \t}\r\n\r\n\t \t\t\r\n\r\n\tconst signUpForm = () =>(\r\n\r\n\t\t<form style={{margin: \"20px\", backgroundColor:\"black\", padding: \"20px\", borderRadius: \"7px\"}}>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"text-center mb-3\" style={{color: \"white\", fontSize: \"20px\"}}><strong>Signin Form</strong></div>\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\r\n\t);\r\n\r\n\tconst showError = () =>(\r\n\t \t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }}>{error}</div>\r\n\t)\r\n\r\n\tconst showLoading = () =>(\r\n\t \tloading && (<div className=\"alert alert-info\"><strong>Loading...</strong></div>)\r\n\t)\r\n\r\n\tconst redirectUser = () =>{\r\n\t\tif(redirectToReferrer){\r\n\t\t\tif(user && user.role === 1){\r\n\t\t\t\treturn <Redirect to=\"/admin/dashboard\" />\r\n\t\t\t} else{\r\n\t\t\t\treturn <Redirect to=\"/user/dashboard\" />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn(\r\n\t\t<Layout \r\n\t\t\ttitle=\"Signin page\" \r\n\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\tclassName=\"container col-md-4 offset-md-4\"\r\n\t\t>\r\n\t\t\t<helmet>\r\n\t\t\t\t<title>Signin</title>\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\tcontent=\"Please Sign in to continue\"  \r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"keywords\"\r\n\t\t\t\t\tcontent=\"Signin to ecommerce site, buy products\"  \r\n\t\t\t\t/>\r\n\t\t\t</helmet>\r\n\t\t\t{redirectUser()}\r\n\t\t\t{showLoading()}\r\n\t\t\t{showError()}\r\n\t\t\t{signUpForm()}\r\n\t\t</Layout>\r\n\t)\r\n\r\n}\r\n\r\n\r\nexport default Signin","import {API} from \"../config\"\r\nimport queryString from \"query-string\"\r\n\r\n\r\nexport const getProducts = (sortBy) =>{\r\n\treturn fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=4`, {\r\n\t\tmethod: \"GET\"\r\n\t})\r\n\t\t.then(response =>{\r\n\t\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const getCategories = () => {\r\n\treturn fetch(`${API}/categories`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n\t\t\tconst data = {\r\n\t\t\t\tskip, \r\n\t\t\t\tlimit, \r\n\t\t\t\tfilters\r\n\t\t\t};\r\n\r\n\t\t\treturn fetch(`${API}/products/by/search`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(data)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const list = params => {\r\n\tconst query = queryString.stringify(params)\r\n\tconsole.log(\"query\", query)\r\n\treturn fetch(`${API}/products/search?${query}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const read = (productId) => {\r\n\treturn fetch(`${API}/product/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const listRelated = (productId) => {\r\n\treturn fetch(`${API}/products/related/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const braintreeClientToken = (userId, token) => {\r\n\treturn fetch(`${API}/braintree/getToken/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n\treturn fetch(`${API}/braintree/payment/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify(paymentData)\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n\treturn fetch(`${API}/order/create/${userId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify({order: createOrderData})\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const productByCategory = (categoryId) => {\r\n\tconsole.log(\"category\", categoryId)\r\n\treturn fetch(`${API}/products-by-category/${categoryId}`, {\r\n\t\tmethod: \"GET\"\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}","import React, {useState} from \"react\"\r\nimport {API} from \"../config\"\r\n\r\n\r\nconst ShowImage = ({item, url}) =>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<img \r\n\t\t\t\tsrc={`${API}/${url}/photo/${item._id}`}\r\n\t\t\t\talt={item.name}\r\n\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\tstyle={{maxWidth: \"100%\", maxHeight: \"100%\"}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShowImage","import React, {useState} from \"react\"\r\nimport {Link, Redirect} from \"react-router-dom\"\r\nimport ShowImage from \"./ShowImage\"\r\nimport \"./Card.css\"\r\nimport { addItem, updateItem, removeItem } from \"./CartHelper\"\r\n\r\n\tconst Card = ({\r\n\t\tproduct, \r\n\t\tshowDisplayButton = true, \r\n\t\taddToCartButton = true, \r\n\t\tcartUpdate = false, \r\n\t\tshowRemoveProductButton = false,\r\n\t\tsetRun = f => f,\r\n\t\trun = undefined \r\n\t}) =>{\r\n\r\n\t\tconst [redirect, setRedirect] = useState(false)\r\n\t\tconst [count, setCount] = useState(product.count)\r\n\r\n\r\n\t\tconst ShowViewButton = (showDisplayButton) =>(\r\n\t\t\tshowDisplayButton && (\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<button style={{width: \"114px\",  \r\n\t\t\t\t\t\tcolor: \"white\", \r\n\t\t\t\t\t\tborder: \"none\", \r\n\t\t\t\t\t\tbackground: \"gray\",\r\n\t\t\t\t\t\tmargin: \"4px\",\r\n\t\t\t\t\t\tborderRadius: \"4px\"\r\n\t\t\t\t\t}}>Read More</button>\r\n\t\t\t\t</Link>\r\n\t\t\t)\r\n\t\t)\r\n\r\n\r\n\t\t//This function removes cart button in the cart page from the card component.\r\n\r\n\r\n\t\tconst cartButton = (addToCartButton) => {\r\n\t\t\treturn(\r\n\t\t\t\taddToCartButton && (\r\n\t\t\t\t<button style={{width: \"110px\",  \r\n\t\t\t\t\t\tcolor: \"#007185\", \r\n\t\t\t\t\t\tborder: \"none\", \r\n\t\t\t\t\t\tbackground: \"none\",\r\n\t\t\t\t\t\tmargin: \"4px\",\r\n\t\t\t\t\t\tborderRadius: \"4px\"\r\n\t\t\t\t\t}} onClick={addToCart}>Shop Now ></button>\r\n\t\t\t\t) \r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//This function removes the increment/decrement button at the cart page in the home page but shows it in the add to cart page\r\n\r\n\t\tconst handleChange = productId => event => {\r\n\t\t\tsetRun(!run)\r\n\t\t\tsetCount(event.target.value < 1 ? 1 : event.target.value)\r\n\t\t\tif(event.target.value >= 1){\r\n\t\t\t\tupdateItem(productId, event.target.value)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst showCartUpdate = (cartUpdate) => {\r\n\t\t\treturn (\r\n\t\t\t\tcartUpdate && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\">Qty</span>\r\n\t\t\t\t\t\t\t</div> \r\n\t\t\t\t\t\t\t\t<span className=\"inputNumber\"><input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} /></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\r\n\r\n\r\n\t\tconst showRemoveButton = (showRemoveProductButton) => {\r\n\t\t\treturn(\r\n\t\t\t\tshowRemoveProductButton && (\r\n\t\t\t\t<button \r\n\t\t\t\t\tstyle={{width: \"140px\", \r\n\t\t\t\t\t\t\tborderRadius: \"4px\", \r\n\t\t\t\t\t\t\tbackgroundColor: \"gray\", \r\n\t\t\t\t\t\t\tcolor: \"white\", \r\n\t\t\t\t\t\t\tborder: \"none\",  \r\n\t\t\t\t\t\t\tbackgroundColor: \"red\"}} \r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItem(product._id)\r\n\t\t\t\t\t\tsetRun(!run)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\tRemove Product\r\n\r\n\t\t\t\t</button>\r\n\t\t\t\t) \r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tconst addToCart = () =>{\r\n\t\t\taddItem(product, ()=>{\r\n\t\t\t\tsetRedirect(true)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst shoudRedirect = redirect =>{\r\n\t\t\tif(redirect){\r\n\t\t\t\treturn <Redirect to=\"/cart\" />\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tconst showStock = (quantity) =>{\r\n\t\t\treturn(\r\n\t\t\t\tquantity > 0 ? <span>In stock</span> : <span>Out of Stock</span>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\t\treturn(\r\n\r\n\t\t\t\t<div className=\"divTop2\">\r\n\t\t\t\t\t<div className=\"marginDiv\">\r\n\t\t\t\t\t\t<div className=\"imageDiv\">\r\n\t\t\t\t\t\t\t{shoudRedirect(redirect)}\r\n\t\t\t\t\t\t\t<Link to={`/product/${product._id}`}><ShowImage item={product} url=\"product\" /></Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div style={{paddingLeft: \"2px\"}}>\r\n\t\t\t\t\t \t\t{product.name}\r\n\t\t\t\t\t \t</div>\r\n\r\n\t\t\t\t\t \t<div style={{paddingLeft: \"2px\"}} >\r\n\t\t\t\t\t \t\t<strong>{product.price}</strong>\r\n\t\t\t\t\t \t</div>\r\n\r\n\t\t\t\t\t \t{showCartUpdate(cartUpdate)}\r\n\t\t\t\t\t \t{showRemoveButton(showRemoveProductButton)}\r\n\t\t\t\t\t \t<div>\r\n\t\t\t\t\t\t\t<div className=\"buttons\">\r\n{/*\t\t\t\t\t \t\t\t{ShowViewButton(showDisplayButton)}\r\n*/}\t\t\t\t\t \t\t\t{cartButton(addToCartButton)}\r\n\t\t\t\t\t \t\t</div>\t\r\n\t\t\t\t\t \t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\nexport default Card\r\n\r\n\t\t\t\t\t\t","import React,{useState, useEffect} from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport {getProducts, productByCategory} from \"./ApiCore\";\r\nimport Card from \"./Card\";\r\nimport \"./Card.css\";\r\n\r\n// import Searched from \"./Search\";\r\n\r\n\r\nconst Home = () =>{\r\n\tconst [productsByArrival, setProductsByArrival] = useState([]);\r\n\tconst [gentShoes, setGentShoes] = useState([]);\r\n\tconst [shirts, setShirts] = useState([]);\r\n\tconst [trouser, setTrousers] = useState([]);\r\n\t// const [productsFromCategoryy, setProductsFromCategoryy] = useState([]);\r\n\t// const [productsBySell, setProductsBySell] = useState([]);\r\n\tconst [error, setError] = useState(false);\r\n\r\n\t\t\r\n\tconst loadProductsByArrival = () =>{\r\n\t\tgetProducts(\"createdAt\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetProductsByArrival(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadProductsByShoes = () =>{\r\n\t\tproductByCategory(\"611ecc9391e78c1d88b04ca4\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetGentShoes(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadShirts = () =>{\r\n\t\tproductByCategory(\"611eccb091e78c1d88b04ca5\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetShirts(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst loadTrousers = () =>{\r\n\t\tproductByCategory(\"611ecc6991e78c1d88b04ca3\")\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetTrousers(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\t// const loadProductsBySell = () =>{\r\n\t// \tgetProducts(\"sold\")\r\n\t// \t\t.then(data =>{\r\n\t// \t\t\tif(data.error){\r\n\t// \t\t\t\tsetError(data.error)\r\n\t// \t\t\t}else{\r\n\t// \t\t\t\tsetProductsBySell(data)\r\n\t// \t\t\t}\r\n\t// \t\t})\r\n\t// }\r\n\r\n\r\n\tuseEffect(() =>{\r\n\t\tloadProductsByArrival()\r\n\t\tloadProductsByShoes()\r\n\t\tloadShirts()\r\n\t\tloadTrousers()\r\n\t}, [])\r\n\r\n\r\n\treturn(\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\">\r\n\r\n{/*\t\t\t\t<Searched />\r\n*/}\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Best Seller</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{productsByArrival.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Ladies & Gent Shoes</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{gentShoes.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Shirts & Polo</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{shirts.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Trousers For Men & Women</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{trouser.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*<div className=\"firstDiv\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"h4Div\"><h4 style={{fontSize: \"1.25rem\", fontWeight: \"bold\", color: \"white\"}} >Best Seller</h4></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"divTop\">\r\n\t\t\t\t\t\t\t{productsBySell.map((product, i)=>(\r\n\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t</div>*/}\t\r\n\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\nexport default Home","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"./index\"\r\n\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest}) =>(\r\n\t<Route {...rest} render={props => isAuthenticated() ? (\r\n\t\t<Component {...props} />\r\n\t) : (\r\n\t\t<Redirect \r\n\t\t\tto={{\r\n\t\t\t pathname: \"/signin\", \r\n\t\t\t state:{from: props.location}  \r\n\t\t}}\r\n\t\t/>\r\n\r\n\t)} />\r\n)\r\n\r\n\r\nexport default PrivateRoute ","import React,{useState, useEffect} from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {getPurchaseHistory} from \"./ApiUser\"\r\nimport moment from \"moment\"\r\n\r\nconst Dashboard = () =>{\r\n\tconst [history, setHistory] = useState([])\r\n\r\n\tconst { user: { _id, name, email, role } } = isAuthenticated();\r\n\tconst token = isAuthenticated().token;\r\n\r\n\tconst init = (userId, token) => {\r\n\t\tgetPurchaseHistory(userId, token)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetHistory(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(_id, token)\r\n\t},[])\r\n\r\n\tconst userInfo = () =>(\r\n\t\t<div className=\"card mb-5 mt-5 \">\r\n\t\t\t<h4 className=\"card-header\">User Information</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">{name}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{email}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\" }</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst purchaseHistory = history => {\r\n    return (\r\n        <div className=\"card mb-5\">\r\n            <h3 className=\"card-header\">Purchase history</h3>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                    {history.map((h, i) => {\r\n                        return (\r\n                            <div>\r\n                                <hr />\r\n                                {h.products.map((p, i) => {\r\n                                    return (\r\n                                        <div key={i}>\r\n                                            <h6>Product name: {p.name}</h6>\r\n                                            <h6>Product price: ${p.price}</h6>\r\n                                            <h6>\r\n                                                Purchased date:{\" \"}\r\n                                                {moment(p.createdAt).fromNow()}\r\n                                            </h6>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\n\tconst userLink = () =>(\r\n\t\t<div className=\"card mb-5 mt-5\">\r\n\t\t\t<h4 className=\"card-header\">User Link</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/cart\" className=\"nav-link\">Cart</Link>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to={`/profile/${_id}`} className=\"nav-link\">Update Profile</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout title={`Howdy ${name}`} Description=\"User Dashboard\" className=\"container-fluid\">\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t{userLink()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t{userInfo()}\r\n\t\t\t\t\t{purchaseHistory(history)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default Dashboard","import {API} from \"../config\"\r\n\r\n\r\nexport const update = (userId, token, user) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t},\r\n\t\tbody: JSON.stringify(user)\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\n\r\nexport const read = (userId, token) => {\r\n\treturn fetch(`${API}/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n\tif(typeof window !== \"undefined\"){\r\n\t\tif(localStorage.getItem(\"jwt\")){\r\n\t\t\tlet auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n\t\t\tauth.user = user;\r\n\t\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n\treturn fetch(`${API}/orders/by/user/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"./index\"\r\n\r\n\r\n\r\nconst AdminRoute = ({ component: Component, ...rest}) =>(\r\n\t<Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n\t\t<Component {...props} />\r\n\t) : (\r\n\t\t<Redirect \r\n\t\t\tto={{\r\n\t\t\t pathname: \"/signin\", \r\n\t\t\t state:{from: props.location}  \r\n\t\t}}\r\n\t\t/>\r\n\r\n\t)} />\r\n)\r\n\r\n\r\nexport default AdminRoute ","import React from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst AdminDashboard = () =>{\r\n\r\n\tconst { user: { name, email, role } } = isAuthenticated()\r\n\r\n\tconst adminInfo = () =>(\r\n\t\t<div className=\"card mb-5 mt-5 \">\r\n\t\t\t<h4 className=\"card-header\">Admin Information</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">{name}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{email}</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">{role === 1 ? \"Admin\" : \"Registered User\" }</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst adminHistory = () =>(\r\n\t\t<div className=\"card mb-5\">\r\n\t\t\t<h4 className=\"card-header\">Admin History</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">History</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst adminLink = () =>(\r\n\t\t<div className=\"card mb-5 mt-5\">\r\n\t\t\t<h4 className=\"card-header\">Admin Link</h4>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/create/category\" className=\"nav-link\">Create Category</Link>\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/create/product\" className=\"nav-link\">Create Product</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/products\" className=\"nav-link\">Manage Products</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t<Link to=\"/admin/orders\" className=\"nav-link\">View Orders</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout title={`Howdy ${name}`} Description=\"Admin Dashboard\" className=\"container-fluid\">\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t{adminLink()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t{adminInfo()}\r\n\t\t\t\t\t{adminHistory()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default AdminDashboard","import {API} from \"../config\"\r\n\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n\t\t\treturn fetch(`${API}/category/create/${userId}`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(category)\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n\t\t\treturn fetch(`${API}/product/create/${userId}`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: product\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\nexport const getCategories = () => {\r\n\treturn fetch(`${API}/categories`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const listOrders = (userId, token) => {\r\n\treturn fetch(`${API}/order/list/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport const getProducts = () => {\r\n\treturn fetch(`${API}/products?limit=undefined`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n\t\t\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n\t\t\treturn fetch(`${API}/product/${productId}/${userId}`, {\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t},\r\n\t\t\t\tbody: product\r\n\t\t\t})\r\n\t\t\t.then(response =>{\r\n\t\t\t\treturn response.json()\r\n\t\t\t})\r\n\t\t\t.catch(error =>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\nexport const getProduct = (productId) => {\r\n\treturn fetch(`${API}/product/${productId}`, {\r\n\t\tmethod: \"GET\"\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t\t})\r\n\t\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n\treturn fetch(`${API}/order/status/${userId}`, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n\treturn fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n\t\tmethod: \"PUT\",\r\n\t\theaders: {\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({status, orderId})\r\n\t\t})\r\n\t.then(response =>{\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error =>{\r\n\t\t\tconsole.log(error)\r\n\t})\r\n}","import React, {useState} from \"react\"\r\n// import { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport {createCategory} from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\n\r\n\r\n\r\nconst AddCategory = () =>{\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [error, setError] = useState(false);\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tconst {user, token} = isAuthenticated()\r\n\r\n\tconst handleChange = e =>{\r\n\t\tsetError(\"\")\r\n\t\tsetName(e.target.value)\r\n\t}\r\n\r\n\tconst clickSubmit = e =>{\r\n\t\te.preventDefault()\r\n\t\tsetError(\"\")\r\n\t\tsetSuccess(false)\r\n\t\t// Make request to API to create category\r\n\t\tcreateCategory(user._id, token, {name})\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(true)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetError(\"\")\r\n\t\t\t\t\tsetSuccess(true)\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tconst newCategoryForm = () =>(\r\n\t\t<form onSubmit={clickSubmit} >\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange} className=\"form-control\" value={name} autoFocus required />\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\" style={{marginTop: \"18px\"}}>Create Category</button>\r\n\t\t</form>\r\n\t)\r\n\r\n\tconst categoryTitle = () =>{\r\n\t\treturn <div style={{color: \"#0275d8\", marginTop: \"30px\", marginBottom: \"20px\"}}><h3>Add A New Category</h3></div>\r\n\t}\r\n\t\r\n\tconst showSuccess = () =>{\r\n\t\tif(success){\r\n\t\t\treturn <div><h6 className=\"alert alert-info\">Category was successfully created</h6></div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst showErrors = () =>{\r\n\t\tif(error){\r\n\t\t\treturn <div><h6 className=\"alert alert-danger\">{name} category should be unique</h6></div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Layout \r\n\t\t\ttitle=\"Category Page\" \r\n\t\t\tdescription=\"Create Category\"\r\n\t\t\tclassName=\"container col-md-4 offset-md-4\"\r\n\t\t>\r\n\t\t<div style={{ background: \"#f7f7f7\", padding: \"40px\", borderRadius: \"7px\"}}>\r\n\t\t{showSuccess()}\r\n\t\t{showErrors()}\r\n\t\t{categoryTitle()}\r\n\t\t{newCategoryForm()}\r\n\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default AddCategory","import React, {useState, useEffect} from \"react\"\r\n// import { Link } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { createProduct, getCategories } from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport \"./product.css\"\r\n\r\nconst AddProduct = () => {\r\n\r\n\tconst {user, token} =isAuthenticated()\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tshipping: \"\",\r\n\t\tquantity: \"\",\r\n\t\tphoto: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tredirectToProfile: false,\r\n\t\tformData: \"\"\r\n\t\t\r\n\t})\r\n\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tshipping,\r\n\t\tquantity,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tredirectToProfile,\r\n\t\tformData\r\n\r\n\t} = values\r\n\r\n\tconst init = () =>{\r\n\t\tgetCategories().then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({...values, categories: data, formData: new FormData()})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit()\r\n\t}, [])\r\n\r\n\r\n\tconst handleChange = name => event => {\r\n\t\t\tconst value = name === 'photo' ? event.target.files[0] : event.target.value\r\n\t\t\tformData.set(name, value)\r\n\t\t\tsetValues({...values, [name]: value})\r\n\t}\r\n\r\n\r\n\tconst clickSubmit = (event) =>{\r\n\t\tevent.preventDefault()\r\n\t\tsetValues({...values, error: \"\", loading: true})\r\n\t\tcreateProduct(user._id, token, formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tquantity: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tcreatedProduct: data.name\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tconst newPostForm = () =>(\r\n\r\n\t\t<form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n\t\t\t<h4>Add Photo</h4>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"btn btn-secondary \">\r\n\t\t\t\t\t<input type=\"file\" onChange={handleChange('photo')} name=\"photo\" accept=\"image/*\" />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Description</label>\r\n\t\t\t\t<textarea style={{height: \"140px\"}} className=\"form-control\" onChange={handleChange('description')} value={description} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Price</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('price')} className=\"form-control\" value={price} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Category</label>\r\n\t\t\t\t<select onChange={handleChange('category')} className=\"form-control\">\r\n\t\t\t\t\t<option>Select Category</option>\r\n\t\t\t\t\t{categories && categories.map((c, i) => (\r\n\t\t\t\t\t\t<option key={i} value={c._id}>{c.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Shipping</label>\r\n\t\t\t\t<select onChange={handleChange('shipping')} className=\"form-control\">\r\n\t\t\t\t\t<option>Please Select</option>\r\n\t\t\t\t\t<option value=\"0\">No</option>\r\n\t\t\t\t\t<option value=\"1\">Yes</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Quantity</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('quantity')} className=\"form-control\" value={quantity} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" className=\"btn btn-primary mt-4\">Add Product</button>\r\n\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} ><h5>{error}</h5></div>\r\n\t)\r\n\r\n\tconst showSuccess = () =>(\r\n\t\t<div className=\"alert alert-info\" style={{display: createdProduct ? \"\" : \"none\" }} ><h5>{`${createdProduct} is created`}</h5></div>\r\n\t)\r\n\r\n\r\n\tconst ShowLoading = () => (\r\n\t\tloading && (\r\n\t\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t\t)\r\n\t)\r\n\t\r\n\r\n\treturn(\r\n\t\t\t<Layout \r\n\t\t\t\ttitle=\"Signin page\" \r\n\t\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\t\tclassName=\"container col-md-8 offset-md-2\"\r\n\t\t\t>\r\n\t\t\t<div className=\"mb-4 productCss\">\r\n\t\t\t\t{ShowLoading()}\r\n\t\t\t\t{showSuccess()}\r\n\t\t\t\t{showError()}\r\n\t\t\t\t{newPostForm()}\t\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default AddProduct","import React, {useState, useEffect} from \"react\"\r\n\r\nconst Checkbox = ({categories, handleFilters}) =>{\r\n\tconst [checked, setChecked] = useState([])\r\n\r\n\tconst handleToggle = c =>()=>{\r\n\t\tconst currentCategoryId = checked.indexOf(c)\r\n\t\tconst newCheckedCategoryId = [...checked]\r\n\r\n\t\tif(currentCategoryId === -1){\r\n\t\t\tnewCheckedCategoryId.push(c)\r\n\t\t} else {\r\n\t\t\tnewCheckedCategoryId.splice(currentCategoryId, 1)\r\n\t\t}\t\t\r\n\t\tsetChecked(newCheckedCategoryId)\r\n\t\thandleFilters(newCheckedCategoryId);\r\n\t}\r\n\r\n\r\n\treturn categories.map((c, i) =>(\r\n\t\t<li key={i} className=\"list-unstyled\">\r\n\t\t\t<input type=\"checkbox\" \r\n\t\t\t\tclassName=\"form-check-input\"  \r\n\t\t\t\tonChange={handleToggle(c._id)} \r\n\t\t\t\tvalue={checked.indexOf(c._id === -1)}\r\n\t\t\t/>\r\n\t\t\t<label className=\"form-check-label\">{c.name}</label>\r\n\t\t</li>\r\n\t))\r\n}\r\n\r\n\r\nexport default Checkbox","import React, {useState, useEffect, Fragment} from \"react\"\r\n\r\nconst RadioBox = ({prices, handleFilters}) =>{\r\n\tconst [value, setValue] = useState(0)\r\n\r\n\tconst handleChange = event =>{\r\n\t\thandleFilters(event.target.value)\r\n\t\tsetValue(event.target.value)\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\t\treturn(\r\n\t\t\tprices.map((p, i) => (\r\n\t\t\t\t<div key={i}>\r\n\t\t\t\t\t<input type=\"radio\" \r\n\t\t\t\t\t\tclassName=\"mr-2 ml-4\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={p._id} \r\n\t\t\t\t\t\tname={p}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label className=\"form-check-label\">{p.name}</label>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t\t\t\r\n\t\t)\r\n}\r\n\r\nexport default RadioBox;","export const prices = [\r\n\t{\r\n\t\t_id: 0,\r\n\t\tname: \"Any\",\r\n\t\tarray: []\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 1,\r\n\t\tname: \"N100 - N1000\",\r\n\t\tarray: [100, 1000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 2,\r\n\t\tname: \"N1100 - N2000\",\r\n\t\tarray: [1100, 2000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 3,\r\n\t\tname: \"N2100 - N3000\",\r\n\t\tarray: [2100, 3000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 4,\r\n\t\tname: \"N3100 - N4000\",\r\n\t\tarray: [3100, 4000]\r\n\t},\r\n\r\n\t{\r\n\t\t_id: 5,\r\n\t\tname: \"More Than N4000\",\r\n\t\tarray: [4100, 5000]\r\n\t}\r\n\r\n\r\n]","import React, {useState, useEffect} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Layout from \"./Layout\"\r\nimport {getCategories, getFilteredProducts} from \"./ApiCore\"\r\nimport Checkbox from \"./Checkbox\"\r\nimport RadioBox from \"./RadioBox\"\r\nimport {prices} from \"./FixedPrices\"\r\nimport Card from \"./Card\"\r\nimport \"./Shop.css\";\r\n\r\n\r\n\r\nconst Shop = () =>{\r\n\tconst [myFilters, setMyFilter] = useState({\r\n\t\tfilters: {\r\n\t\t\tcategories: [],\r\n\t\t\tprice: []\r\n\t\t}\r\n\t})\r\n\tconst [categories, setCategories] = useState([])\r\n\tconst [error, setError] = useState(false)\r\n\tconst [skip, setSkip] = useState(0)\r\n\tconst [limit, setLimit] = useState(6)\r\n\tconst [filteredResults, setFilteredResults] = useState([])\r\n\tconst [size, setSize] = useState(0)\r\n\r\n\tconst init = () => {\r\n\t\tgetCategories()\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(error.data){\r\n\t\t\t\t\tsetError(error.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetCategories(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst loadFilteredResults = newFilters =>{\r\n\t\tgetFilteredProducts(skip, limit, newFilters)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFilteredResults(data.data)\r\n\t\t\t\t\tsetSize(data.size)\r\n\t\t\t\t\tsetSkip(0)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\r\n\tconst loadMore = newFilters =>{\r\n\t\tlet toSkip = skip + limit;\r\n\t\tgetFilteredProducts(toSkip, limit, myFilters.filters)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFilteredResults([...filteredResults, ...data.data])\r\n\t\t\t\t\tsetSize(data.size)\r\n\t\t\t\t\tsetSkip(toSkip)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\tconst loadMoreButton = () =>{\r\n\t\treturn(\r\n\t\t\tsize > 0 && size >= limit && (\r\n\t\t\t\t<button className=\"btn btn-primary\" onClick={loadMore}>Load More</button>\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\r\n\r\n\tuseEffect(() =>{\r\n\t\tinit();\r\n\t\tloadFilteredResults(skip, limit, myFilters.filters)\r\n\t}, [])\r\n\r\n\r\n\tconst handleFilters = (filters, filterBy) => {\r\n\t\t// console.log(\"SHOP\", filters, FilterBy)\r\n\t\tconst newFilters = {...myFilters}\r\n\t\tnewFilters.filters[filterBy] = filters\r\n\r\n\t\tif(filterBy ==\"price\"){\r\n\t\t\tlet priceValues = handlePrice(filters)\r\n\t\t\tnewFilters.filters[filterBy] = priceValues\r\n\t\t}\r\n\r\n\t\tloadFilteredResults(myFilters.filters)\r\n\t\tsetMyFilter(newFilters)\r\n\t}\r\n\r\n\tconst handlePrice = value =>{\r\n\t\tconst data = prices;\r\n\t\tlet array = [];\r\n\r\n\t\tfor(let key in data){\r\n\t\t\tif(data[key]._id === parseInt(value)){\r\n\t\t\t\tarray = data[key].array\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\n\r\n\t\r\n\treturn(\r\n\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\" >\r\n\r\n\t\t<helmet>\r\n\t\t\t\t<title>Shop page</title>\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\tcontent=\"Make shopping here\"  \r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"keywords\"\r\n\t\t\t\t\tcontent=\"Choose from our list of products and shop. Buy Shoes, Bags, Shirts, Underwears, Polo Jeans \"  \r\n\t\t\t\t/>\r\n\t\t\t</helmet>\r\n\r\n\t\t\t<div className=\"ShopRow\" style={{backgroundColor: \"white\"}}>\r\n\t\t\t\t<div className=\"ShopRow1\">\r\n\t\t\t\t\t<div className=\"filterDiv\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h4 style={{fontSize: \"27px\"}}>Filter By Categories</h4>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<Checkbox categories={categories} \r\n\t\t\t\t\t\t\t\t\thandleFilters={filters => \r\n\t\t\t\t\t\t\t\t\t\thandleFilters(filters, \"category\")\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h4 style={{fontSize: \"27px\"}}>Filter By Price</h4>\r\n\t\t\t\t\t\t\t<div style={{ paddingLeft: \"30px\"}}>\r\n\t\t\t\t\t\t\t<RadioBox prices={prices} \r\n\t\t\t\t\t\t\t\thandleFilters={filters => \r\n\t\t\t\t\t\t\t\t\thandleFilters(filters, \"price\")\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"cardRow\">\r\n\t\t\t\t\t\t\t{filteredResults.map((product, i )=>(\r\n\t\t\t\t\t\t\t\t<div className=\"cardRow2\">\r\n\t\t\t\t\t\t\t\t\t<Card key={i} product={product} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{loadMoreButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default Shop","import React, {useState} from \"react\"\r\nimport {API} from \"../config\"\r\n\r\n\r\nconst ShowPhoto = ({item, url}) =>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<img \r\n\t\t\t\tsrc={`${API}/${url}/photo/${item._id}`}\r\n\t\t\t\talt={item.name}\r\n\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShowPhoto","import React, {useState, useEffect} from \"react\";\r\nimport {read, listRelated} from \"./ApiCore\";\r\nimport Card from \"./Card\";\r\nimport \"./Product.css\";\r\nimport ShowPhoto from \"./ShowPhoto\";\r\nimport Layout from \"./Layout\"\r\nimport moment from \"moment\"\r\n\r\n\r\nconst Products = (props) => {\r\n\r\n\tconst [product, setProduct] = useState({})\r\n\tconst [related, setRelated] = useState([])\r\n\tconst [error, setError] = useState(false)\r\n\r\n\tconst singleProduct = productId =>{\r\n\t\tread(productId)\r\n\t\t.then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetError(data.error)\r\n\t\t\t} else{\r\n\t\t\t\tsetProduct(data)\r\n\t\t\t\tlistRelated(data._id)\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.error){\r\n\t\t\t\t\t\t\tsetError(data.error)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetRelated(data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t} \r\n\r\n\tuseEffect(()=>{\r\n\t\tconst productId = props.match.params.productId\r\n\t\tsingleProduct(productId)\r\n\t}, [props])\r\n\r\n\r\n\treturn(\r\n\r\n\t\t<Layout>\r\n\t\t\t\t<div className=\"singleProductPage\" style={{backgroundColor: \"white\", paddingTop: \"10px\", paddingBottom: \"110px\"}} >\r\n\t\t\t\t\t<div className=\"imageRow\">\r\n\t\t\t\t\t\t<ShowPhoto item={product} url=\"product\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ProductDescription\" style={{color: \"white\"}}>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><h3>{product.name}</h3></p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}>{product.description}</p>\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><strong>Category: {product.category && product.category.name}</strong></p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p style={{color: \"black\"}}><i>{moment(product.createdAt).fromNow()}</i></p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<div className=\"related1\"  style={{paddingBottom: \"20px\", paddingTop: \"20px\", backgroundColor: \"white\"}}>\r\n\t\t\t\t\t\t\t<h5 style={{textAlign: \"center\"}}>Related products</h5>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div className=\"related\" style={{ paddingTop: \"20px\"}}>\r\n\t\t\t\t\t\t\t\t{related.map((p, i)=>(\r\n\t\t\t\t\t\t\t\t\t<Card key={i} product={p} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default Products","import React, {useState, useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport { braintreeClientToken, processPayment, createOrder } from \"./ApiCore\";\r\nimport {emptyCart} from \"./CartHelper\";\r\nimport Card from \"./Card\";\r\nimport { isAuthenticated } from \"../auth\" ;\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\nimport \"./Checkout.css\";\r\n\r\n\r\nconst Checkout = ({ products }) => {\r\n\r\n\tconst [data, setData] = useState({\r\n\t\tsuccess: false,\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tclientToken: null,\r\n\t\tinstance: {},\r\n\t\taddress: \"\"\r\n\t})\r\n\r\nconst userId = isAuthenticated() && isAuthenticated().user._id;\r\nconst token = isAuthenticated() && isAuthenticated().token;\r\n\r\nconst getToken = (userId, token) => {\r\n\tbraintreeClientToken(userId, token)\r\n\t\t.then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetData({...data, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetData({clientToken: data.clientToken})\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nuseEffect(()=>{\r\n\tgetToken(userId, token);\r\n}, [])\r\n\r\nconst handleAddress = (event) => {\r\n\tsetData({...data, address: event.target.value})\r\n}\r\n\r\n\t\r\nconst getTotal = () => {\r\n\treturn products.reduce((currentValue, nextValue)=>{\r\n\t\treturn currentValue + nextValue.count * nextValue.price\r\n\t}, 0)\r\n}\r\n\r\nconst showCheckout = () =>(\r\n\tisAuthenticated() ? <div>{showDropIn()}</div> : <Link to=\"/signin\">Signin</Link>\r\n)\r\n\r\nlet deliveryAddress = data.address;\r\n\r\nconst buy = () => {\r\n\tsetData({loading: true});\r\n\t// Send nonce to your server\r\n\t//nonce = data.instance.requestPaymentMethod()\r\n\r\n\tlet nonce;\r\n\tvar getNonce = data.instance.requestPaymentMethod()\r\n\t\t.then(data =>{\r\n\t\t\t// console.log(data)\r\n\t\t\tnonce = data.nonce\r\n\t\t\t// once you have nonce (card type, card number), send nonce as paymentMethodNonce to the backend\r\n\t\t\t// Also send total to be charged\r\n\t\t\t// console.log(\r\n\t\t\t// \t\"send nonce and total to process\", \r\n\t\t\t// \tnonce, \r\n\t\t\t// \tgetTotal(products)\r\n\t\t\t// )\r\n\r\n\t\t\tconst paymentData = {\r\n\t\t\t\tpaymentMethodNonce: nonce,\r\n\t\t\t\tamount: getTotal(products)\r\n\t\t\t}\r\n\t\t\tprocessPayment(userId, token, paymentData)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response);\r\n\r\n\t\t\t\t\tconst createOrderData = {\r\n\t\t\t\t\t\tproducts: products,\r\n\t\t\t\t\t\ttransaction_id: response.transaction.id,\r\n\t\t\t\t\t\tamount: response.transaction.amount,\r\n\t\t\t\t\t\taddress: deliveryAddress\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreateOrder(userId, token, createOrderData)\r\n\t\t\t\t\t\t.then(response => {\r\n\r\n\t\t\t\t\t\t\t//Empty Cart\r\n\r\n\t\t\t\t\t\t\temptyCart(()=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"Payment success and empty cart\")\r\n\t\t\t\t\t\t\t\tsetData({loading: false, success: true});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetData({loading: false});\r\n\t\t\t\t})\r\n\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\"dropIn error\", error)\r\n\t\t\tsetData({...data, error: error.message})\r\n\t\t})\r\n}\r\n\r\nconst showError = (error) => (\r\n\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>{error}</div>\r\n)\r\n\r\nconst showSuccess = (success) => (\r\n\t<div \r\n\t\tclassName=\"alert alert-info\" \r\n\t\tstyle={{display: success ? \"\" : \"none\"}}\r\n\t>\r\n\t\tThank you! Your Payment was successful\r\n\t</div>\r\n)\r\n\r\nconst showLoading = (loading) =>(\r\n\tloading && (\r\n\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t)\r\n)\r\n\r\nconst showDropIn = () => (\r\n\t\t<div className=\"firstshowDropIn\" onBlur={()=> setData({...data, error: \"\"})}>\r\n\t\t\t{data.clientToken !== null && products.length > 0 ? (\r\n\t\t\t\t<div className=\"showDropIn\">\r\n\t\t\t\t\t<div className=\"form-group mb-3\">\r\n\t\t\t\t\t\t<label className=\"text-muted\">Delivery Address:</label>\r\n\t\t\t\t\t\t<textarea className=\"form-control textArea\" \r\n\t\t\t\t\t\t\tonChange={handleAddress} \r\n\t\t\t\t\t\t\tvalue={data.address}\r\n\t\t\t\t\t\t\tplaceholder=\"Please Enter Your Address\" \r\n\t\t\t\t\t\t\tstyle={{width: \"700px\"}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<DropIn \r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\tauthorization: data.clientToken,\r\n\t\t\t\t\t\t\t\tpaypal: {\r\n\t\t\t\t\t\t\t\t\tflow: \"vault\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonInstance={(instance) => (data.instance = instance)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button onClick={buy} style={{width: \"150px\", marginBottom: \"10px\"}} className=\"btn btn-success btn-block\">Pay</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null }\r\n\t\t</div>\r\n)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div><h3 style={{color: \"black\"}}>Total: {getTotal()}</h3></div>\r\n\t\t\t{showLoading(data.loading)}\r\n\t\t\t{showSuccess(data.success)}\r\n\t\t\t{showError(data.error)}\r\n\t\t\t{showCheckout()}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Checkout;","import React,{useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\"\r\nimport Layout from \"./Layout\"\r\nimport Card from \"./Card\"\r\nimport { getCart, removeItem } from \"./CartHelper\"\r\nimport Checkout from \"./Checkout\"\r\nimport \"./Card.css\"\r\nimport \"./Checkout.css\"\r\n\r\nconst Cart = ()=> {\r\n\tconst [items, setItem] = useState([])\r\n\tconst [run, setRun] = useState(false)\r\n\r\n\tuseEffect(()=>{\r\n\t\tsetItem(getCart())\r\n\t}, [run])\r\n\r\n\tconst getAllItemsInCart = items =>(\r\n\t\t<div>\r\n\t\t\t{items.map((product, i)=> (\r\n\t\t\t\t<\r\n\t\t\t\t\tCard key={i} \r\n\t\t\t\t\tproduct={product} \r\n\t\t\t\t\taddToCartButton={false} \r\n\t\t\t\t\tcartUpdate={true} \r\n\t\t\t\t\tshowDisplayButton={false}\r\n\t\t\t\t\tshowRemoveProductButton = {true}\r\n\t\t\t\t\tsetRun={setRun}\r\n\t\t\t\t\trun={run} \r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst ItemNotFound = () => (\r\n\t\t<div className=\"alert alert-info\"><h5> No item was found <Link to=\"/shop\">Continue Shopping</Link> </h5></div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<helmet>\r\n\t\t\t\t<title>Checkout</title>\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\tcontent=\"Please Checkout Here\"  \r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<meta \r\n\t\t\t\t\tname=\"keywords\"\r\n\t\t\t\t\tcontent=\"Make payments for products here\"  \r\n\t\t\t\t/>\r\n\t\t\t</helmet>\r\n\r\n\t\t\t<div className=\"cart\">\r\n\t\t\t\t<div className=\"cartRow\">\r\n\t\t\t\t\t<div style={{marginTop: \"20px\"}}>\r\n\t\t\t\t\t\t{items.length > 0 ? getAllItemsInCart(items) : ItemNotFound() }\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"cartRow2\" style={{marginTop: \"10px\"}}>\r\n\t\t\t\t\t\t<Checkout products={items} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Cart\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport {isAuthenticated} from \"../auth\";\r\nimport {getProducts, getProduct, deleteProduct} from \"./ApiAdmin\";\r\n\r\nconst ManageProducts = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\r\n\tconst {user, token} = isAuthenticated();\r\n\r\n\tconst loadProducts = () =>{\r\n\t\tgetProducts()\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetProducts(data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst destroy = (productId) => {\r\n\t\tdeleteProduct(productId, user._id, token)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloadProducts()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadProducts()\r\n\t}, [])\r\n\r\n\r\n\treturn(\r\n\t\t<Layout title=\"Homepage\" description=\"Node js Ecommerce App\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t<h2 className=\"text-center\" style={{color: \"white\"}}>You have a total {products.length} items </h2>\r\n\t\t\t\t\t\t{products.map((p, i)=>(\r\n\t\t\t\t\t\t\t<li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t<strong>{p.name}</strong>\r\n\t\t\t\t\t\t\t\t<Link to={`/admin/product/update/${p._id}`}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"badge badge-warning badge-pill\" style={{color: \"black\"}}>Update</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\t\tonClick={()=> destroy(p._id)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge badge-danger badge-pill\" style={{color: \"red\"}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\r\n\t)\r\n}\r\n\r\nexport default ManageProducts","import React, {useState, useEffect} from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport { getProduct, getCategories, updateProduct } from \"./ApiAdmin\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport \"./product.css\"\r\n\r\nconst UpdateProduct = ({match}) => {\r\n\r\n\tconst {user, token} =isAuthenticated()\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tprice: \"\",\r\n\t\tcategories: [],\r\n\t\tcategory: \"\",\r\n\t\tshipping: \"\",\r\n\t\tquantity: \"\",\r\n\t\tphoto: \"\",\r\n\t\tloading: false,\r\n\t\terror: \"\",\r\n\t\tcreatedProduct: \"\",\r\n\t\tredirectToProfile: false,\r\n\t\tformData: \"\"\r\n\t\t\r\n\t})\r\n\r\n\r\n\tconst {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\tprice,\r\n\t\tcategories,\r\n\t\tcategory,\r\n\t\tshipping,\r\n\t\tquantity,\r\n\t\tloading,\r\n\t\terror,\r\n\t\tcreatedProduct,\r\n\t\tredirectToProfile,\r\n\t\tformData\r\n\r\n\t} = values\r\n\r\n\tconst init = (productId) => {\r\n\t\tgetProduct(productId)\r\n\t\t\t.then(data =>{\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\tdescription: data.description,\r\n\t\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\t\tcategory: data.category._id,\r\n\t\t\t\t\t\tshipping: data.shipping,\r\n\t\t\t\t\t\tquantity: data.quantity,\r\n\t\t\t\t\t\tformData: new FormData()\r\n\t\t\t\t\t})\r\n\t\t\t\t\tinitCategories()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst initCategories = () =>{\r\n\t\tgetCategories().then(data => {\r\n\t\t\tif(data.error){\r\n\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({categories: data, formData: new FormData()})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(match.params.productId)\r\n\t}, [])\r\n\r\n\r\n\tconst handleChange = name => event => {\r\n\t\t\tconst value = name === 'photo' ? event.target.files[0] : event.target.value\r\n\t\t\tformData.set(name, value)\r\n\t\t\tsetValues({...values, [name]: value})\r\n\t}\r\n\r\n\r\n\tconst clickSubmit = (event) =>{\r\n\t\tevent.preventDefault()\r\n\t\tsetValues({...values, error: \"\", loading: true})\r\n\t\tupdateProduct(match.params.productId, user._id, token, formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: data.error})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\tprice: \"\",\r\n\t\t\t\t\t\tquantity: \"\",\r\n\t\t\t\t\t\tphoto: \"\",\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\terror: false,\r\n\t\t\t\t\t\tredirectToProfile: true,\r\n\t\t\t\t\t\tcreatedProduct: data.name\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tconst newPostForm = () =>(\r\n\r\n\t\t<form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n\t\t\t<h4>Add Photo</h4>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"btn btn-secondary \">\r\n\t\t\t\t\t<input type=\"file\" onChange={handleChange('photo')} name=\"photo\" accept=\"image/*\" />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Name</label>\r\n\t\t\t\t<input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Description</label>\r\n\t\t\t\t<textarea style={{height: \"140px\"}} className=\"form-control\" onChange={handleChange('description')} value={description} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Price</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('price')} className=\"form-control\" value={price} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Category</label>\r\n\t\t\t\t<select onChange={handleChange('category')} className=\"form-control\">\r\n\t\t\t\t\t<option>Select Category</option>\r\n\t\t\t\t\t{categories && categories.map((c, i) => (\r\n\t\t\t\t\t\t<option key={i} value={c._id}>{c.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Shipping</label>\r\n\t\t\t\t<select onChange={handleChange('shipping')} className=\"form-control\">\r\n\t\t\t\t\t<option>Please Select</option>\r\n\t\t\t\t\t<option value=\"0\">No</option>\r\n\t\t\t\t\t<option value=\"1\">Yes</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"text-muted mt-4 mb-2\">Quantity</label>\r\n\t\t\t\t<input type=\"number\" onChange={handleChange('quantity')} className=\"form-control\" value={quantity} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\" className=\"btn btn-primary mt-4\">Update Product</button>\r\n\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\tconst showError = () =>(\r\n\t\t<div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\" }} ><h5>{error}</h5></div>\r\n\t)\r\n\r\n\tconst showSuccess = () =>(\r\n\t\t<div className=\"alert alert-info\" style={{display: createdProduct ? \"\" : \"none\" }} ><h5>{`${createdProduct} is updated`}</h5></div>\r\n\t)\r\n\r\n\r\n\tconst ShowLoading = () => (\r\n\t\tloading && (\r\n\t\t\t<div className=\"alert alert-info\">Loading...</div>\r\n\t\t)\r\n\t)\r\n\r\n\tconst redirectToReferer = () =>{\r\n\t\tif(redirectToProfile){\r\n\t\t\tif(!error){\r\n\t\t\t\treturn <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\treturn(\r\n\t\t\t<Layout \r\n\t\t\t\ttitle=\"Signin page\" \r\n\t\t\t\tdescription=\"Signin to node js app\"\r\n\t\t\t\tclassName=\"container col-md-8 offset-md-2\"\r\n\t\t\t>\r\n\t\t\t<div className=\"mb-4 mt-4 productCss\">\r\n\t\t\t\t{ShowLoading()}\r\n\t\t\t\t{showSuccess()}\r\n\t\t\t\t{showError()}\r\n\t\t\t\t{newPostForm()}\t\r\n\t\t\t\t{redirectToReferer()}\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default UpdateProduct;","import React, {useState, useEffect} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport {read, update, updateUser} from \"./ApiUser\"\r\n\r\n\r\nconst Profile = ({match}) => {\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\terror: false,\r\n\t\tsuccess: false\r\n\t})\r\n\r\n\tconst {token} = isAuthenticated();\r\n\tconst {name, email, password, error, success} = values;\r\n\r\n\tconst init = (userId) => {\r\n\t\tread(userId, token)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tsetValues({...values, error: true})\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsetValues({...values, name: data.name, email: data.email})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tinit(match.params.userId)\r\n\t}, [])\r\n\r\n\tconst handleChange = name => e =>{\r\n\t\tsetValues({...values, error: false, [name]: e.target.value})\r\n\r\n\t}\r\n\r\n\tconst clickSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tupdate(match.params.userId, token, {name, email, password})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateUser(data, () => {\r\n\t\t\t\t\t\tsetValues({\r\n\t\t\t\t\t\t\t...values, \r\n\t\t\t\t\t\t\tname: data.name, \r\n\t\t\t\t\t\t\temail: data.email, \r\n\t\t\t\t\t\t\tsuccess: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst redirectUser = (success) => {\r\n\t\tif(success){\r\n\t\t\treturn <Redirect to=\"/cart\" />\r\n\t\t}\r\n\t}\r\n\r\n\tconst profileUpdate = (name, email, password) => (\r\n\t\t<form style={{marginTop: \"20px\", marginBottom: \"20px\"}}>\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Name</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Email</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email} />\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <div className=\"form-group mb-3\">\r\n\t\t\t\t\t    <label className=\"form-label\" style={{color: \"white\"}}>Password</label>\r\n\t\t\t\t\t    <input onChange={handleChange(\"password\")} type=\"password\" className=\"form-control\"  value={password}/>\r\n\t\t\t\t  </div>\r\n\r\n\t\t\t\t  <button onClick={clickSubmit} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\t\t</form>\r\n\r\n\t)\r\n\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-4 offset-4\">\r\n\t\t\t\t\t\t{profileUpdate(name, email, password)}\r\n\t\t\t\t\t\t{redirectUser(success)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t\r\n}\r\n\r\n\r\n\r\nexport default Profile;","import React, {useState, useEffect} from \"react\"\r\nimport Layout from \"../core/Layout\"\r\nimport {isAuthenticated} from \"../auth\"\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./ApiAdmin\"\r\nimport moment from \"moment\"\r\n\r\nconst Orders = () => {\r\n\tconst [orders, setOrders] = useState([]);\r\n\tconst [statusValues, setStatusValues] = useState([]);\r\n\r\n\tconst {user, token} = isAuthenticated()\r\n\r\n\tconst loadOrders = () => {\r\n\t\tlistOrders(user._id, token).then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetOrders(data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadOrders()\r\n\t},[]);\r\n\r\n\r\nconst loadStatusValues = () => {\r\n\t\tgetStatusValues(user._id, token).then(data =>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetStatusValues(data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadOrders()\r\n\t\tloadStatusValues()\r\n\t},[]);\r\n\r\n\r\n\r\n\r\n\tconst showOrdersLength = () => {\r\n\t\tif(orders.length > 0){\r\n\t\t\treturn <h1 className=\"text-danger display-2\">Total order is: {orders.length}</h1>\r\n\t\t} else {\r\n\t\t\treturn <h1 className=\"text-danger\">No orders found</h1>\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst showInput = (key, value) =>(\r\n\t\t<div className=\"input-group mb-2 mr-sm-2\">\r\n\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t<div className=\"input-group-text\">{key}</div>\r\n\t\t\t</div>\r\n\t\t\t<input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst handlesStatusChange = (e, orderId) => {\r\n\t\tupdateOrderStatus(user._id, token, orderId, e.target.value)\r\n\t\t\t.then(data=> {\r\n\t\t\t\tif(data.error){\r\n\t\t\t\t\tconsole.log(\"status update failed\")\r\n\t\t\t\t} else{\r\n\t\t\t\t\tloadOrders();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst showStatus = (o) =>(\r\n\t\t<div className=\"form-control\">\r\n\t\t\t<h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n\t\t\t<select className=\"form-control\" onChange={e=> handlesStatusChange(e, o._id)}>\r\n\t\t\t\t<option>Status Update</option>\r\n\t\t\t\t{statusValues.map((status, index)=>(\r\n\t\t\t\t\t<option key={index} value={status}>{status}</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn(\r\n\t\t<Layout>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t{showOrdersLength()}\r\n\t\t\t\t\t{orders.map((o, oIndex)=>(\r\n\t\t\t\t\t\t<div key={oIndex} className=\"mt-5\" style={{borderBottom: \"1px solid white\"}}>\r\n\t\t\t\t\t\t\t<h2 className=\"mb-5\" style={{color: \"white\"}}>\r\n\t\t\t\t\t\t\t\t<span className=\"bg-primary\">\r\n\t\t\t\t\t\t\t\t\tOrder ID: {o._id}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<ul className=\"list-group mb-2\">\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t{showStatus(o)}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Transaction:</strong> {o.transaction_id}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Amount: </strong> {o.amount}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Ordered By:</strong> {o.user.name}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Ordered Date:</strong> {moment(o.createdAt).fromNow()}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<strong>Delivery Address:</strong> {o.address}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<h2 style={{color: \"white\"}}>Total number of products Order are: {o.products.length}</h2>\r\n\t\t\t\t\t\t\t{o.products.map((p, pIndex)=>(\r\n\t\t\t\t\t\t\t\t<div className=\"mb-4\" style={{padding: \"20px\", border: \"2px solid white\"}} key={pIndex}>\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.name)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.price)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p.count)}\r\n\t\t\t\t\t\t\t\t\t{showInput(\"Product name\", p._id)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n\r\n\r\n}\r\n\r\n\r\nexport default Orders;","import React from \"react\"\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\r\nimport Signup from \"./user/Signup\"\r\nimport Signin from \"./user/Signin\" \r\nimport Home from \"./core/Home\" \r\nimport PrivateRoute from \"./auth/PrivateRoute\"\r\nimport Dashboard from \"./user/UserDashboard\"\r\nimport AdminRoute from \"./auth/AdminRoute\"\r\nimport AdminDashboard from \"./user/AdminDashboard\"\r\nimport AddCategory from \"./Admin/AddCategory\"\r\nimport AddProduct from \"./Admin/AddProduct\"\r\nimport Shop from \"./core/Shop\"\r\nimport Product from \"./core/Product\"\r\nimport Cart from \"./core/Cart\"\r\nimport ManageProducts from \"./Admin/ManageProducts\"\r\nimport UpdateProducts from \"./Admin/UpdateProducts\"\r\nimport Profile from \"./user/Profile\"\r\nimport Orders from \"./Admin/Orders\"\r\nimport { helmet } from \"react-helmet\"\r\n\r\n\r\n\r\n// import Checkout from \"./core/Checkout\"\r\n\r\nconst Routes =()=>{\r\n\treturn(\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/\" exact component={Home} />\r\n\t\t\t\t<Route path=\"/shop\" exact component={Shop} />\r\n\t\t\t\t<Route path=\"/cart\" exact component={Cart} />\r\n\t\t\t\t<Route path=\"/signup\" exact component={Signup} />\r\n\t\t\t\t<Route path=\"/signin\" exact component={Signin} />\r\n\t\t\t\t<PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n\t\t\t\t<AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n\t\t\t\t<AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n\t\t\t\t<AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n\t\t\t\t<Route path=\"/product/:productId\" exact component={Product} />\r\n\t\t\t\t<AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n\t\t\t\t<AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProducts} />\r\n\t\t\t\t<PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\r\n\t\t\t\t<AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Routes","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import App from './App';\r\nimport Routes from \"./Routes\"\r\nimport \"./colourChanger.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}